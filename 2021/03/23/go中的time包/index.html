<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            go 中 time 包的使用 | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="time 包中的类型time 包中定义了以下时间类型：
time.Time{}时间类型，包含了秒和纳秒以及 Location：
type Time struct {
    wall uint64 // 秒
    ext  int64  // 纳秒
    loc *Location
}">
    <meta name="keywords" content=",go">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="go 中 time 包的使用 | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="time 包中的类型time 包中定义了以下时间类型：
time.Time{}时间类型，包含了秒和纳秒以及 Location：
type Time struct {
    wall uint64 // 秒
    ext  int64  // 纳秒
    loc *Location
}">
    <meta property="og:article:tag" content="go"> 

    
        <meta property="article:published_time" content="Tue Mar 23 2021 10:39:09 GMT+0800">
        <meta property="article:modified_time" content="Tue Mar 23 2021 22:36:37 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html",
    "headline": "go 中 time 包的使用",
    "datePublished": "Tue Mar 23 2021 10:39:09 GMT+0800",
    "dateModified": "Tue Mar 23 2021 22:36:37 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",go",
    "description": "time 包中的类型time 包中定义了以下时间类型：
time.Time{}时间类型，包含了秒和纳秒以及 Location：
type Time struct {
    wall uint64 // 秒
    ext  int64  // 纳秒
    loc *Location
}",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#time-包中的类型"><span class="post-toc-number">1.</span> <span class="post-toc-text">time 包中的类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Time"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">time.Time{}</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Month"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">time.Month()</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Weekday"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">time.Weekday</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Duration"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">time.Duration</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Location"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">time.Location</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Timer-定时器"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">time.Timer 定时器</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time-Ticker-断续器"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">time.Ticker 断续器</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#time-包中的常用函数"><span class="post-toc-number">2.</span> <span class="post-toc-text">time 包中的常用函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Time-类型下的常用函数"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">Time 类型下的常用函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#其他常用函数"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">其他常用函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#time-包的实际用例"><span class="post-toc-number">3.</span> <span class="post-toc-text">time 包的实际用例</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#创建时间"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">创建时间</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取当前时间"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">获取当前时间</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建指定的时间"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">创建指定的时间</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#纳秒-毫秒-秒转换"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">纳秒/毫秒/秒转换</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#时间格式化（time-与-string-相互转换）"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">时间格式化（time 与 string 相互转换）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对时间进行加减运算"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">对时间进行加减运算</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#加法"><span class="post-toc-number">3.4.1.</span> <span class="post-toc-text">加法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#减法"><span class="post-toc-number">3.4.2.</span> <span class="post-toc-text">减法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#时间戳与Time相互转换"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">时间戳与Time相互转换</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#在本地和其他时区使用时间戳获取当前日期和时间"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">在本地和其他时区使用时间戳获取当前日期和时间</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#获取-Weekday-和-Yearday"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">获取 Weekday 和 Yearday</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#日期时间的前后关系判断"><span class="post-toc-number">3.8.</span> <span class="post-toc-text">日期时间的前后关系判断</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#定时器"><span class="post-toc-number">3.9.</span> <span class="post-toc-text">定时器</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#断续器（每个固定的时间执行一次）"><span class="post-toc-number">3.10.</span> <span class="post-toc-text">断续器（每个固定的时间执行一次）</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                go 中 time 包的使用
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>3月 23, 2021</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/go/" rel="tag">go</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=go 中 time 包的使用&url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=go 中 time 包的使用&url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html&title=go 中 time 包的使用" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=go 中 time 包的使用&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/index.html&text=go 中 time 包的使用" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="time-包中的类型"><a href="#time-包中的类型" class="headerlink" title="time 包中的类型"></a>time 包中的类型</h1><p>time 包中定义了以下时间类型：</p>
<h2 id="time-Time"><a href="#time-Time" class="headerlink" title="time.Time{}"></a>time.Time{}</h2><p>时间类型，包含了秒和纳秒以及 Location：</p>
<pre><code class="go">type Time struct {
    wall uint64 // 秒
    ext  int64  // 纳秒
    loc *Location
}</code></pre>
<a id="more"></a>

<h2 id="time-Month"><a href="#time-Month" class="headerlink" title="time.Month()"></a>time.Month()</h2><p>月份，定义了十二个月份的常量：</p>
<pre><code class="go">type Month int

const (
    January Month = 1 + iota
    February
    March
    April
    May
    June
    July
    August
    September
    October
    November
    December
)</code></pre>
<h2 id="time-Weekday"><a href="#time-Weekday" class="headerlink" title="time.Weekday"></a>time.Weekday</h2><p>月份，定义了十二个月的常量：</p>
<pre><code class="go">type Weekday int

const (
    Sunday Weekday = iota
    Monday
    Tuesday
    Wednesday
    Thursday
    Friday
    Saturday
)</code></pre>
<h2 id="time-Duration"><a href="#time-Duration" class="headerlink" title="time.Duration"></a>time.Duration</h2><p>持续时间，定义了以下持续时间类型，多用于时间的加减：</p>
<pre><code class="go">// 持续时间表示两个瞬间之间经过的时间，以int64纳秒为单位。
// 该表示将最大可表示持续时间限制为大约290年。
type Duration int64

const (
    minDuration Duration = -1 &lt;&lt; 63
    maxDuration Duration = 1&lt;&lt;63 - 1
)

const (
    Nanosecond  Duration = 1
    Microsecond          = 1000 * Nanosecond
    Millisecond          = 1000 * Microsecond
    Second               = 1000 * Millisecond
    Minute               = 60 * Second
    Hour                 = 60 * Minute
)</code></pre>
<h2 id="time-Location"><a href="#time-Location" class="headerlink" title="time.Location"></a>time.Location</h2><p>在 time 包里有两个时区变量：</p>
<ul>
<li>time.UTC：utc 时间</li>
<li>time.Local：本地时间</li>
</ul>
<p>另外，还提供了一个 <code>FixedZone</code> 函数，用于设置时区名，以及与 UTC0 的时间偏差，返回 Location：</p>
<pre><code class="go">func FixedZone(name string, offset int) *Location {
    l := &amp;Location{
        name:       name,
        zone:       []zone{{name, offset, false}},
        tx:         []zoneTrans{{alpha, 0, false, false}},
        cacheStart: alpha,
        cacheEnd:   omega,
    }
    l.cacheZone = &amp;l.zone[0]
    return l
}</code></pre>
<h2 id="time-Timer-定时器"><a href="#time-Timer-定时器" class="headerlink" title="time.Timer 定时器"></a>time.Timer 定时器</h2><p>传达一次到期事件：</p>
<pre><code class="go">type Timer struct {
    C &lt;-chan Time
    r runtimeTimer
}</code></pre>
<h2 id="time-Ticker-断续器"><a href="#time-Ticker-断续器" class="headerlink" title="time.Ticker 断续器"></a>time.Ticker 断续器</h2><p>周期性的传达到期事件的装置。</p>
<p><strong>与定时器的区别：定时器只会传达一次到期事件，断续器会持续工作直到停止</strong></p>
<pre><code class="go">type Ticker struct {
    C &lt;-chan Time // The channel on which the ticks are delivered.
    r runtimeTimer
}</code></pre>
<h1 id="time-包中的常用函数"><a href="#time-包中的常用函数" class="headerlink" title="time 包中的常用函数"></a>time 包中的常用函数</h1><h2 id="Time-类型下的常用函数"><a href="#Time-类型下的常用函数" class="headerlink" title="Time 类型下的常用函数"></a>Time 类型下的常用函数</h2><ul>
<li><strong>After(u Time) bool</strong>：时间类型比较，是否在 Time 之后</li>
<li><strong>Before(u Time) bool：</strong>时间类型比较，是否在 Time 之前</li>
<li><strong>Equal(u Time) bool：</strong>比较两个时间是否相等</li>
<li><strong>IsZero() bool</strong>：判断时间是否为零值，如果 sec 和 nsec 两个属性都是 0 的话，则该时间类型就是 0</li>
<li><strong>Date() (yeat int,month Month,day int)</strong>：返回年，月，日三个参数</li>
<li><strong>Year() int：</strong>返回年份</li>
<li><strong>Month() int：</strong>返回月份</li>
<li><strong>Day() int：</strong>返回多少号</li>
<li><strong>Weekday() Weekday：</strong>返回星期几，是 Weekday 类型</li>
<li><strong>ISOWeek() (year,week int)</strong>：返回年份以及该天在这年的第几周</li>
<li><strong>Clock() (hour,min,sec int)</strong>：返回小时，分钟，秒</li>
<li><strong>Hour() int</strong>：返回小时</li>
<li><strong>Minute() int：</strong>返回分钟</li>
<li><strong>Second() int：</strong>返回秒数</li>
<li><strong>Nanosecond() int：</strong>返回纳秒</li>
<li><strong>Unix() int64：</strong>返回时间戳，自 1970 年 1 月 1 号到现在的秒数</li>
<li><strong>UnixNano() int64：</strong>返回时间戳，包含纳秒数</li>
<li><strong>Format(layout string) string</strong>：将时间转换为一个格式</li>
<li><strong>Add(d Duration) Time：</strong>为一个时间添加一段时间，可以精确到纳秒</li>
<li><strong>Sub(u Time) Duration：</strong>计算两个时间的时间差</li>
<li><strong>AddDate(years int,months int,days int) Time：</strong>添加时间，以年月日为参数</li>
<li><strong>UTC() Time：</strong>设置 location 为 UTC，然后返回时间（相当于 utc0，比中国晚 8 个小时）</li>
<li><strong>Local() Time</strong>：设置 location 为本地时间，就是电脑时间</li>
<li><strong>In(loc *Location) Time：</strong>设置 location 为指定的 location</li>
<li><strong>Location() *Location</strong>：获取时间的 Location，如果是 nic，则返回 UTC，如果为空，则代表本地</li>
<li><strong>Zone() (name string,offset int)</strong>：返回时区，以及与 utc 的时间偏差</li>
</ul>
<h2 id="其他常用函数"><a href="#其他常用函数" class="headerlink" title="其他常用函数"></a>其他常用函数</h2><ul>
<li><strong>time.Now()</strong>：返回当前时间，返回 Time 类型</li>
<li><strong>time.Sleep(d Duration)：</strong>表示沉睡多少时间，此时处于阻塞状态</li>
<li><strong>time.Since(t Time) Duration：</strong>返回与当前时间的时间差，t 一般为过去时间</li>
<li><strong>time.Unix(sec int64,nesc int64) Time：</strong>根据秒数和纳秒，返回 Time 类型。如只有一个参数，则另外一个参数默认为 0。</li>
<li><strong>time.Until(t Time) Duration：</strong>计算 t 到当前时间的时间差，t 一般为未来时间</li>
<li><strong>time.After(d Duration) &lt;-chan Time</strong>：返回一个 <code>time.C</code> 这个管道，d 时间间隔后会在此管道中放入一个时间点（<code>time.Now()</code>）</li>
<li><strong>time.AfterFunc(d Duration,f func()) *Timer</strong>：将一个时间间隔和一个函数传给 AfterFunc 之后，间隔时间过后将执行传入的函数，只执行一遍</li>
<li><strong>time.NewTimer(d Duration) *Timer：</strong>创建一个新的定时器，定时时间为 d</li>
<li><strong>time.Parse(layout,value string) (Time,error)</strong>：将字符串转化为 Time 类型。</li>
<li><strong>time.ParseDuration(s string) (Duration,error)</strong>：将字符串（”ns”, “us” (or “µs”), “ms”, “s”, “m”, “h”）转化为 Duration 类型</li>
<li><strong>time.ParseInLocation(layout,value string,loc *Location) (Time,error)</strong>：ParseInLocation 类似于Parse，但在两个重要方面有所不同：<ul>
<li>首先，在没有时区信息的情况下，Parse将时间解释为 UTC，ParseInLocation 将时间解释为给定位置。 </li>
<li>其次，当给定区域偏移量或缩写时，Parse 会尝试将其与本地位置进行匹配。 ParseInLocation 使用给定的位置。</li>
</ul>
</li>
<li><strong>time.NewTicker(d Duration) *Ticker</strong>：创建一个新的 Ticker</li>
<li><strong>time.Tick(d Duration) &lt;-chan Time</strong>：返回一个 time.C 管道，d 时间间隔后会在此管道中放入一个时间点（time.Now()）</li>
<li><strong>time.Date(yeat int,month Month,day,hour,min,sec,nsec int,lo *Location) Time</strong>：设置年月日，返回 Time 类型</li>
<li><strong>time.LoadLocation(name string) (*Location,error)</strong>：返回给定名称的位置</li>
<li><strong>time.FixedZone(name string,offset int) *Location：</strong>返回给定名称和偏移量的位置</li>
</ul>
<h1 id="time-包的实际用例"><a href="#time-包的实际用例" class="headerlink" title="time 包的实际用例"></a>time 包的实际用例</h1><h2 id="创建时间"><a href="#创建时间" class="headerlink" title="创建时间"></a>创建时间</h2><h3 id="获取当前时间"><a href="#获取当前时间" class="headerlink" title="获取当前时间"></a>获取当前时间</h3><pre><code class="go">now := time.Now()</code></pre>
<h3 id="创建指定的时间"><a href="#创建指定的时间" class="headerlink" title="创建指定的时间"></a>创建指定的时间</h3><pre><code class="go">func main() {
    date := time.Date(2008,8,8,21,22,23,456234,time.UTC)
    fmt.Printf(&quot;date is %s\n&quot;, date)
    date = time.Now().UTC()
    fmt.Printf(&quot;current date is %s&quot;,date)
}</code></pre>
<p>输出如下：</p>
<pre><code>date is 2008-08-08 21:22:23.000456234 +0000 UTC
current date is 2021-03-23 06:58:28.054182 +0000 UTC</code></pre><h2 id="纳秒-毫秒-秒转换"><a href="#纳秒-毫秒-秒转换" class="headerlink" title="纳秒/毫秒/秒转换"></a>纳秒/毫秒/秒转换</h2><pre><code class="go">fmt.Println(ns / 1e6) // 纳秒转毫秒
fmt.Println(ns / 1e9) // 纳秒转秒</code></pre>
<h2 id="时间格式化（time-与-string-相互转换）"><a href="#时间格式化（time-与-string-相互转换）" class="headerlink" title="时间格式化（time 与 string 相互转换）"></a>时间格式化（time 与 string 相互转换）</h2><p>Go 不使用 <code>yyyy-mm-dd</code> 布局来格式化时间。而是通过传入一个 string 类型的 <code>layout</code> 布局参数，该参数定义的时间节点为：</p>
<pre><code class="go">// 2006-01-02 15:04:05
Mon Jan 2 15:04:05 -0700 MST 2006
</code></pre>
<pre><code class="go">const (
    // 定义的时间节点必须符合布局参数定义
    layoutISO = &quot;2006-01-02 15:04:05&quot;
    layoutUS = &quot;January 2, 2006&quot;
)

func main() {
    // string 转 time
    date := &quot;2021-03-23&quot;
    t, _ := time.Parse(layoutISO, date)
    fmt.Println(t)

    // time 转 string
    now := time.Now()
    fmt.Println(now.Format(layoutUS))
    fmt.Println(now.Format(layoutISO))
}</code></pre>
<ul>
<li><code>time.Parse</code> ：解析日期字符串</li>
<li><code>Format</code>：格式化 <code>time.Time</code></li>
</ul>
<p>函数签名如下：</p>
<pre><code class="go">func Parse(layout, value string) (Time, error) 
func (t Time) Format(layout string) string </code></pre>
<p>另外，Go 在 time 包中为常用的格式提供了一些便捷的常量：</p>
<pre><code class="go">const (
    ANSIC       = &quot;Mon Jan _2 15:04:05 2006&quot;
    UnixDate    = &quot;Mon Jan _2 15:04:05 MST 2006&quot;
    RubyDate    = &quot;Mon Jan 02 15:04:05 -0700 2006&quot;
    RFC822      = &quot;02 Jan 06 15:04 MST&quot;
    RFC822Z     = &quot;02 Jan 06 15:04 -0700&quot; // RFC822 with numeric zone
    RFC850      = &quot;Monday, 02-Jan-06 15:04:05 MST&quot;
    RFC1123     = &quot;Mon, 02 Jan 2006 15:04:05 MST&quot;
    RFC1123Z    = &quot;Mon, 02 Jan 2006 15:04:05 -0700&quot; // RFC1123 with numeric zone
    RFC3339     = &quot;2006-01-02T15:04:05Z07:00&quot;
    RFC3339Nano = &quot;2006-01-02T15:04:05.999999999Z07:00&quot;
    Kitchen     = &quot;3:04PM&quot;
    // Handy time stamps.
    Stamp      = &quot;Jan _2 15:04:05&quot;
    StampMilli = &quot;Jan _2 15:04:05.000&quot;
    StampMicro = &quot;Jan _2 15:04:05.000000&quot;
    StampNano  = &quot;Jan _2 15:04:05.000000000&quot;
)</code></pre>
<h2 id="对时间进行加减运算"><a href="#对时间进行加减运算" class="headerlink" title="对时间进行加减运算"></a>对时间进行加减运算</h2><h3 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h3><pre><code class="go">func main() {
    date := time.Date(2008,8,8,21,22,23,456234,time.UTC)
    nextDate := date.AddDate(0,0,1)
    nextDateByHour := date.Add(+time.Hour * 24)
    previousDate := date.Add(-time.Hour * 24)

    fmt.Printf(&quot;date is %s\n&quot;,date)
    fmt.Printf(&quot;next date is %s\n&quot;,nextDate)
    fmt.Printf(&quot;next date by add hour is %s\n&quot;,nextDateByHour)
    fmt.Printf(&quot;privious date by add hour is %s\n&quot;,previousDate)
}</code></pre>
<p>输出结果如下：</p>
<pre><code>date is 2008-08-08 21:22:23.000456234 +0000 UTC
next date is 2008-08-09 21:22:23.000456234 +0000 UTC
next date by add hour is 2008-08-09 21:22:23.000456234 +0000 UTC
privious date by add hour is 2008-08-07 21:22:23.000456234 +0000 UTC</code></pre><h3 id="减法"><a href="#减法" class="headerlink" title="减法"></a>减法</h3><pre><code class="go">func main() {
    start := time.Now()
    time.Sleep(1*time.Second)
    stop := time.Now()

    cost := stop.Sub(start)
    fmt.Printf(&quot;The call took %v to run.\n&quot;,cost)
}</code></pre>
<p>输出结果如下：</p>
<pre><code>The call took 1.000541262s to run.</code></pre><h2 id="时间戳与Time相互转换"><a href="#时间戳与Time相互转换" class="headerlink" title="时间戳与Time相互转换"></a>时间戳与Time相互转换</h2><p><code>Time</code> 类具有 <code>Unix()</code> 方法，可以将时间转换为 glang 中的 UNIX 时间戳：</p>
<pre><code class="go">func main() {
    now := time.Now().Unix() // 秒数
    nowNano := time.Now().UnixNano() // 纳秒数

    // now is 1616484297
    fmt.Printf(&quot;now is %v\n&quot;,now)
    // nowNano is 1616484297027772000
    fmt.Printf(&quot;nowNano is %v\n&quot;,nowNano)
}</code></pre>
<p>Unix 时间戳转 Time 格式：通过 <code>time.Unix</code> 函数</p>
<pre><code class="go">func main() {
    now := time.Unix(time.Now().Unix(), 0)
    fmt.Printf(&quot;now is %v\n&quot;,now)
}</code></pre>
<p>输出结果如下：</p>
<pre><code>now is 2021-03-23 15:32:41 +0800 CST</code></pre><h2 id="在本地和其他时区使用时间戳获取当前日期和时间"><a href="#在本地和其他时区使用时间戳获取当前日期和时间" class="headerlink" title="在本地和其他时区使用时间戳获取当前日期和时间"></a>在本地和其他时区使用时间戳获取当前日期和时间</h2><p><code>LoadLocatio</code> 返回具有给定名称的 <code>Location</code>：</p>
<pre><code class="go">func main() {
    t := time.Now()
    fmt.Println(&quot;Location: &quot;, t.Location(), &quot; Time: &quot;, t)

    location, _ := time.LoadLocation(&quot;America/New_York&quot;)

    // 转换时区
    tInAmerica := t.In(location)
    fmt.Println(&quot;Location: &quot;, location, &quot; Time: &quot;, tInAmerica)

    location, _ = time.LoadLocation(&quot;Asia/Shanghai&quot;)
    tInShanghai := t.In(location)
    fmt.Println(&quot;Location: &quot;, location, &quot; Time: &quot;, tInShanghai)
}</code></pre>
<p>输出结果：</p>
<pre><code>Location:  Local  Time:  2021-03-23 21:46:37.255412 +0800 CST m=+0.000090396
Location:  America/New_York  Time:  2021-03-23 09:46:37.255412 -0400 EDT
Location:  Asia/Shanghai  Time:  2021-03-23 21:46:37.255412 +0800 CST</code></pre><h2 id="获取-Weekday-和-Yearday"><a href="#获取-Weekday-和-Yearday" class="headerlink" title="获取 Weekday 和 Yearday"></a>获取 Weekday 和 Yearday</h2><p>Weekday 返回由 t 指定的星期几。Yearday 返回由 t 指定的一年中的第几天，非闰年范围为 <code>[1,365]</code>，闰年为 <code>[1,366]</code>。</p>
<pre><code class="go">func main() {
    t, _ := time.Parse(&quot;2006 01 02 15 04&quot;, &quot;2015 11 11 16 50&quot;)
    fmt.Println(t.YearDay()) // 315
    fmt.Println(t.Weekday()) // Wednesday

    t, _ = time.Parse(&quot;2006 01 02 15 04&quot;, &quot;2011 01 01 0 00&quot;)
    fmt.Println(t.YearDay()) // 1
    fmt.Println(t.Weekday()) // Saturday
}</code></pre>
<h2 id="日期时间的前后关系判断"><a href="#日期时间的前后关系判断" class="headerlink" title="日期时间的前后关系判断"></a>日期时间的前后关系判断</h2><pre><code class="go">func main() {
    t1 := time.Now()
    t2 := t1.Add(time.Minute)
    t3 := t1.Add(-time.Minute)
    if t1.Before(t2) {
        fmt.Println(&quot;t1 is before t2&quot;)
    } else {
        fmt.Println(&quot;t1 is after t2&quot;)
    }
    fmt.Println(time.Since(t3))
}</code></pre>
<p>输出结果如下：</p>
<pre><code>t1 is before t2
1m0.000028295s</code></pre><h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><pre><code class="go">func main() {
    go func() {
        timer := time.NewTimer(2 * time.Second)
        for t := range timer.C:
                fmt.Println(&quot;timer fired&quot;)
            }
        }
    }()

    time.Sleep(3 * time.Second)
}</code></pre>
<h2 id="断续器（每个固定的时间执行一次）"><a href="#断续器（每个固定的时间执行一次）" class="headerlink" title="断续器（每个固定的时间执行一次）"></a>断续器（每个固定的时间执行一次）</h2><pre><code class="go">func main() {
    ticker := time.NewTicker(1 * time.Second)
    go func() {
        for t := range ticker.C:
                fmt.Println(&quot;ticker at: &quot;, t)
            }
        }
    }()

    time.Sleep(10 * time.Second)
}</code></pre>
<pre><code>ticker at:  2021-03-23 22:19:49.743301 +0800 CST m=+1.003682073
ticker at:  2021-03-23 22:19:50.741223 +0800 CST m=+2.001600968
ticker at:  2021-03-23 22:19:51.744963 +0800 CST m=+3.005338145
ticker at:  2021-03-23 22:19:52.742212 +0800 CST m=+4.002584520
ticker at:  2021-03-23 22:19:53.741429 +0800 CST m=+5.001799684
ticker at:  2021-03-23 22:19:54.742483 +0800 CST m=+6.002850379
ticker at:  2021-03-23 22:19:55.741314 +0800 CST m=+7.001678696
ticker at:  2021-03-23 22:19:56.743402 +0800 CST m=+8.003764744
ticker at:  2021-03-23 22:19:57.740211 +0800 CST m=+9.000570923</code></pre><p><strong>参考资料</strong>：</p>
<blockquote>
<p><a href="https://www.jianshu.com/p/3b4b1e1f71f2" target="_blank" rel="noopener">go time包的使用</a></p>
<p><a href="https://juejin.cn/post/6844903823933177863#heading-3" target="_blank" rel="noopener">Golang如何使用time包</a></p>
</blockquote>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2021/03/23/go%E4%B8%AD%E7%9A%84time%E5%8C%85/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2021/03/25/Opentracing%E6%A0%87%E5%87%86%E5%92%8CJaeger%E5%AE%9E%E7%8E%B0/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2021/03/16/Go%E4%B8%AD%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
