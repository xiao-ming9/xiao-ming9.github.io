

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&quot;auto&quot;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
  <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="time 包中的类型time 包中定义了以下时间类型：
time.Time{}时间类型，包含了秒和纳秒以及 Location：
12345type Time struct &amp;#123;	wall uint64 // 秒	ext  int64  // 纳秒	loc *Location&amp;#125;">
  <meta name="author" content="Silverming">
  <meta name="keywords" content="">
  
  <title>go 中 time 包的使用 - Silverming</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->
<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">

<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","version":"1.8.9","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":false,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"54ebb03ad7ad5b762ac8ff7958df6d3f","google":"G-M2RT7SDT3L","gtag":"G-M2RT7SDT3L","tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"tFHjJkaAYKqH8BIXKnJVurUc-MdYXbMMI","app_key":"1qR5F7XyydYd5YJtIpMJBFmP","server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Silverming</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <!-- <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i -->
              <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
           <!-- <a class="nav-link" href="javascript:" target="_blank" rel="noopener">&nbsp;<i -->
             <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E8%83%8C%E6%99%AF%E5%9B%BE.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="go 中 time 包的使用">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-03-23 10:39" pubdate>
        2021年3月23日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.5k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      38
       分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">go 中 time 包的使用</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2021年3月23日 晚上
                
              </p>
            
            <div class="markdown-body">
              <h1 id="time-包中的类型"><a href="#time-包中的类型" class="headerlink" title="time 包中的类型"></a>time 包中的类型</h1><p>time 包中定义了以下时间类型：</p>
<h2 id="time-Time"><a href="#time-Time" class="headerlink" title="time.Time{}"></a>time.Time{}</h2><p>时间类型，包含了秒和纳秒以及 Location：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Time <span class="hljs-keyword">struct</span> &#123;<br>	wall <span class="hljs-keyword">uint64</span> <span class="hljs-comment">// 秒</span><br>	ext  <span class="hljs-keyword">int64</span>  <span class="hljs-comment">// 纳秒</span><br>	loc *Location<br>&#125;<br></code></pre></div></td></tr></table></figure>

<a id="more"></a>

<h2 id="time-Month"><a href="#time-Month" class="headerlink" title="time.Month()"></a>time.Month()</h2><p>月份，定义了十二个月份的常量：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Month <span class="hljs-keyword">int</span><br><br><span class="hljs-keyword">const</span> (<br>	January Month = <span class="hljs-number">1</span> + <span class="hljs-literal">iota</span><br>	February<br>	March<br>	April<br>	May<br>	June<br>	July<br>	August<br>	September<br>	October<br>	November<br>	December<br>)<br></code></pre></div></td></tr></table></figure>

<h2 id="time-Weekday"><a href="#time-Weekday" class="headerlink" title="time.Weekday"></a>time.Weekday</h2><p>月份，定义了十二个月的常量：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Weekday <span class="hljs-keyword">int</span><br><br><span class="hljs-keyword">const</span> (<br>	Sunday Weekday = <span class="hljs-literal">iota</span><br>	Monday<br>	Tuesday<br>	Wednesday<br>	Thursday<br>	Friday<br>	Saturday<br>)<br></code></pre></div></td></tr></table></figure>

<h2 id="time-Duration"><a href="#time-Duration" class="headerlink" title="time.Duration"></a>time.Duration</h2><p>持续时间，定义了以下持续时间类型，多用于时间的加减：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-comment">// 持续时间表示两个瞬间之间经过的时间，以int64纳秒为单位。</span><br><span class="hljs-comment">// 该表示将最大可表示持续时间限制为大约290年。</span><br><span class="hljs-keyword">type</span> Duration <span class="hljs-keyword">int64</span><br><br><span class="hljs-keyword">const</span> (<br>	minDuration Duration = <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-number">63</span><br>	maxDuration Duration = <span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">63</span> - <span class="hljs-number">1</span><br>)<br><br><span class="hljs-keyword">const</span> (<br>	Nanosecond  Duration = <span class="hljs-number">1</span><br>	Microsecond          = <span class="hljs-number">1000</span> * Nanosecond<br>	Millisecond          = <span class="hljs-number">1000</span> * Microsecond<br>	Second               = <span class="hljs-number">1000</span> * Millisecond<br>	Minute               = <span class="hljs-number">60</span> * Second<br>	Hour                 = <span class="hljs-number">60</span> * Minute<br>)<br></code></pre></div></td></tr></table></figure>

<h2 id="time-Location"><a href="#time-Location" class="headerlink" title="time.Location"></a>time.Location</h2><p>在 time 包里有两个时区变量：</p>
<ul>
<li>time.UTC：utc 时间</li>
<li>time.Local：本地时间</li>
</ul>
<p>另外，还提供了一个 <code>FixedZone</code> 函数，用于设置时区名，以及与 UTC0 的时间偏差，返回 Location：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">FixedZone</span><span class="hljs-params">(name <span class="hljs-keyword">string</span>, offset <span class="hljs-keyword">int</span>)</span> *<span class="hljs-title">Location</span></span> &#123;<br>	l := &amp;Location&#123;<br>		name:       name,<br>		zone:       []zone&#123;&#123;name, offset, <span class="hljs-literal">false</span>&#125;&#125;,<br>		tx:         []zoneTrans&#123;&#123;alpha, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>&#125;&#125;,<br>		cacheStart: alpha,<br>		cacheEnd:   omega,<br>	&#125;<br>	l.cacheZone = &amp;l.zone[<span class="hljs-number">0</span>]<br>	<span class="hljs-keyword">return</span> l<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h2 id="time-Timer-定时器"><a href="#time-Timer-定时器" class="headerlink" title="time.Timer 定时器"></a>time.Timer 定时器</h2><p>传达一次到期事件：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Timer <span class="hljs-keyword">struct</span> &#123;<br>	C &lt;-<span class="hljs-keyword">chan</span> Time<br>	r runtimeTimer<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h2 id="time-Ticker-断续器"><a href="#time-Ticker-断续器" class="headerlink" title="time.Ticker 断续器"></a>time.Ticker 断续器</h2><p>周期性的传达到期事件的装置。</p>
<p><strong>与定时器的区别：定时器只会传达一次到期事件，断续器会持续工作直到停止</strong></p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Ticker <span class="hljs-keyword">struct</span> &#123;<br>	C &lt;-<span class="hljs-keyword">chan</span> Time <span class="hljs-comment">// The channel on which the ticks are delivered.</span><br>	r runtimeTimer<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h1 id="time-包中的常用函数"><a href="#time-包中的常用函数" class="headerlink" title="time 包中的常用函数"></a>time 包中的常用函数</h1><h2 id="Time-类型下的常用函数"><a href="#Time-类型下的常用函数" class="headerlink" title="Time 类型下的常用函数"></a>Time 类型下的常用函数</h2><ul>
<li><strong>After(u Time) bool</strong>：时间类型比较，是否在 Time 之后</li>
<li><strong>Before(u Time) bool：</strong>时间类型比较，是否在 Time 之前</li>
<li><strong>Equal(u Time) bool：</strong>比较两个时间是否相等</li>
<li><strong>IsZero() bool</strong>：判断时间是否为零值，如果 sec 和 nsec 两个属性都是 0 的话，则该时间类型就是 0</li>
<li><strong>Date() (yeat int,month Month,day int)</strong>：返回年，月，日三个参数</li>
<li><strong>Year() int：</strong>返回年份</li>
<li><strong>Month() int：</strong>返回月份</li>
<li><strong>Day() int：</strong>返回多少号</li>
<li><strong>Weekday() Weekday：</strong>返回星期几，是 Weekday 类型</li>
<li><strong>ISOWeek() (year,week int)</strong>：返回年份以及该天在这年的第几周</li>
<li><strong>Clock() (hour,min,sec int)</strong>：返回小时，分钟，秒</li>
<li><strong>Hour() int</strong>：返回小时</li>
<li><strong>Minute() int：</strong>返回分钟</li>
<li><strong>Second() int：</strong>返回秒数</li>
<li><strong>Nanosecond() int：</strong>返回纳秒</li>
<li><strong>Unix() int64：</strong>返回时间戳，自 1970 年 1 月 1 号到现在的秒数</li>
<li><strong>UnixNano() int64：</strong>返回时间戳，包含纳秒数</li>
<li><strong>Format(layout string) string</strong>：将时间转换为一个格式</li>
<li><strong>Add(d Duration) Time：</strong>为一个时间添加一段时间，可以精确到纳秒</li>
<li><strong>Sub(u Time) Duration：</strong>计算两个时间的时间差</li>
<li><strong>AddDate(years int,months int,days int) Time：</strong>添加时间，以年月日为参数</li>
<li><strong>UTC() Time：</strong>设置 location 为 UTC，然后返回时间（相当于 utc0，比中国晚 8 个小时）</li>
<li><strong>Local() Time</strong>：设置 location 为本地时间，就是电脑时间</li>
<li><strong>In(loc *Location) Time：</strong>设置 location 为指定的 location</li>
<li><strong>Location() *Location</strong>：获取时间的 Location，如果是 nic，则返回 UTC，如果为空，则代表本地</li>
<li><strong>Zone() (name string,offset int)</strong>：返回时区，以及与 utc 的时间偏差</li>
</ul>
<h2 id="其他常用函数"><a href="#其他常用函数" class="headerlink" title="其他常用函数"></a>其他常用函数</h2><ul>
<li><strong>time.Now()</strong>：返回当前时间，返回 Time 类型</li>
<li><strong>time.Sleep(d Duration)：</strong>表示沉睡多少时间，此时处于阻塞状态</li>
<li><strong>time.Since(t Time) Duration：</strong>返回与当前时间的时间差，t 一般为过去时间</li>
<li><strong>time.Unix(sec int64,nesc int64) Time：</strong>根据秒数和纳秒，返回 Time 类型。如只有一个参数，则另外一个参数默认为 0。</li>
<li><strong>time.Until(t Time) Duration：</strong>计算 t 到当前时间的时间差，t 一般为未来时间</li>
<li><strong>time.After(d Duration) &lt;-chan Time</strong>：返回一个 <code>time.C</code> 这个管道，d 时间间隔后会在此管道中放入一个时间点（<code>time.Now()</code>）</li>
<li><strong>time.AfterFunc(d Duration,f func()) *Timer</strong>：将一个时间间隔和一个函数传给 AfterFunc 之后，间隔时间过后将执行传入的函数，只执行一遍</li>
<li><strong>time.NewTimer(d Duration) *Timer：</strong>创建一个新的定时器，定时时间为 d</li>
<li><strong>time.Parse(layout,value string) (Time,error)</strong>：将字符串转化为 Time 类型。</li>
<li><strong>time.ParseDuration(s string) (Duration,error)</strong>：将字符串（”ns”, “us” (or “µs”), “ms”, “s”, “m”, “h”）转化为 Duration 类型</li>
<li><strong>time.ParseInLocation(layout,value string,loc *Location) (Time,error)</strong>：ParseInLocation 类似于Parse，但在两个重要方面有所不同：<ul>
<li>首先，在没有时区信息的情况下，Parse将时间解释为 UTC，ParseInLocation 将时间解释为给定位置。 </li>
<li>其次，当给定区域偏移量或缩写时，Parse 会尝试将其与本地位置进行匹配。 ParseInLocation 使用给定的位置。</li>
</ul>
</li>
<li><strong>time.NewTicker(d Duration) *Ticker</strong>：创建一个新的 Ticker</li>
<li><strong>time.Tick(d Duration) &lt;-chan Time</strong>：返回一个 time.C 管道，d 时间间隔后会在此管道中放入一个时间点（time.Now()）</li>
<li><strong>time.Date(yeat int,month Month,day,hour,min,sec,nsec int,lo *Location) Time</strong>：设置年月日，返回 Time 类型</li>
<li><strong>time.LoadLocation(name string) (*Location,error)</strong>：返回给定名称的位置</li>
<li><strong>time.FixedZone(name string,offset int) *Location：</strong>返回给定名称和偏移量的位置</li>
</ul>
<h1 id="time-包的实际用例"><a href="#time-包的实际用例" class="headerlink" title="time 包的实际用例"></a>time 包的实际用例</h1><h2 id="创建时间"><a href="#创建时间" class="headerlink" title="创建时间"></a>创建时间</h2><h3 id="获取当前时间"><a href="#获取当前时间" class="headerlink" title="获取当前时间"></a>获取当前时间</h3><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go">now := time.Now()<br></code></pre></div></td></tr></table></figure>

<h3 id="创建指定的时间"><a href="#创建指定的时间" class="headerlink" title="创建指定的时间"></a>创建指定的时间</h3><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	date := time.Date(<span class="hljs-number">2008</span>,<span class="hljs-number">8</span>,<span class="hljs-number">8</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">456234</span>,time.UTC)<br>	fmt.Printf(<span class="hljs-string">"date is %s\n"</span>, date)<br>	date = time.Now().UTC()<br>	fmt.Printf(<span class="hljs-string">"current date is %s"</span>,date)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">date <span class="hljs-keyword">is</span> <span class="hljs-number">2008</span><span class="hljs-number">-08</span><span class="hljs-number">-08</span> <span class="hljs-number">21</span>:<span class="hljs-number">22</span>:<span class="hljs-number">23.000456234</span> +<span class="hljs-number">0000</span> UTC<br>current date <span class="hljs-keyword">is</span> <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">06</span>:<span class="hljs-number">58</span>:<span class="hljs-number">28.054182</span> +<span class="hljs-number">0000</span> UTC<br></code></pre></div></td></tr></table></figure>

<h2 id="纳秒-毫秒-秒转换"><a href="#纳秒-毫秒-秒转换" class="headerlink" title="纳秒/毫秒/秒转换"></a>纳秒/毫秒/秒转换</h2><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go">fmt.Println(ns / <span class="hljs-number">1e6</span>) <span class="hljs-comment">// 纳秒转毫秒</span><br>fmt.Println(ns / <span class="hljs-number">1e9</span>) <span class="hljs-comment">// 纳秒转秒</span><br></code></pre></div></td></tr></table></figure>

<h2 id="时间格式化（time-与-string-相互转换）"><a href="#时间格式化（time-与-string-相互转换）" class="headerlink" title="时间格式化（time 与 string 相互转换）"></a>时间格式化（time 与 string 相互转换）</h2><p>Go 不使用 <code>yyyy-mm-dd</code> 布局来格式化时间。而是通过传入一个 string 类型的 <code>layout</code> 布局参数，该参数定义的时间节点为：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-comment">// 2006-01-02 15:04:05</span><br>Mon Jan <span class="hljs-number">2</span> <span class="hljs-number">15</span>:<span class="hljs-number">04</span>:<span class="hljs-number">05</span> <span class="hljs-number">-0700</span> MST <span class="hljs-number">2006</span><br></code></pre></div></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">const</span> (<br>	<span class="hljs-comment">// 定义的时间节点必须符合布局参数定义</span><br>	layoutISO = <span class="hljs-string">"2006-01-02 15:04:05"</span><br>	layoutUS = <span class="hljs-string">"January 2, 2006"</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<span class="hljs-comment">// string 转 time</span><br>	date := <span class="hljs-string">"2021-03-23"</span><br>	t, _ := time.Parse(layoutISO, date)<br>	fmt.Println(t)<br><br>	<span class="hljs-comment">// time 转 string</span><br>	now := time.Now()<br>	fmt.Println(now.Format(layoutUS))<br>	fmt.Println(now.Format(layoutISO))<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ul>
<li><code>time.Parse</code> ：解析日期字符串</li>
<li><code>Format</code>：格式化 <code>time.Time</code></li>
</ul>
<p>函数签名如下：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Parse</span><span class="hljs-params">(layout, value <span class="hljs-keyword">string</span>)</span> <span class="hljs-params">(Time, error)</span></span> <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t Time)</span> <span class="hljs-title">Format</span><span class="hljs-params">(layout <span class="hljs-keyword">string</span>)</span> <span class="hljs-title">string</span></span><br></code></pre></div></td></tr></table></figure>

<p>另外，Go 在 time 包中为常用的格式提供了一些便捷的常量：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-keyword">const</span> (<br>	ANSIC       = <span class="hljs-string">"Mon Jan _2 15:04:05 2006"</span><br>	UnixDate    = <span class="hljs-string">"Mon Jan _2 15:04:05 MST 2006"</span><br>	RubyDate    = <span class="hljs-string">"Mon Jan 02 15:04:05 -0700 2006"</span><br>	RFC822      = <span class="hljs-string">"02 Jan 06 15:04 MST"</span><br>	RFC822Z     = <span class="hljs-string">"02 Jan 06 15:04 -0700"</span> <span class="hljs-comment">// RFC822 with numeric zone</span><br>	RFC850      = <span class="hljs-string">"Monday, 02-Jan-06 15:04:05 MST"</span><br>	RFC1123     = <span class="hljs-string">"Mon, 02 Jan 2006 15:04:05 MST"</span><br>	RFC1123Z    = <span class="hljs-string">"Mon, 02 Jan 2006 15:04:05 -0700"</span> <span class="hljs-comment">// RFC1123 with numeric zone</span><br>	RFC3339     = <span class="hljs-string">"2006-01-02T15:04:05Z07:00"</span><br>	RFC3339Nano = <span class="hljs-string">"2006-01-02T15:04:05.999999999Z07:00"</span><br>	Kitchen     = <span class="hljs-string">"3:04PM"</span><br>	<span class="hljs-comment">// Handy time stamps.</span><br>	Stamp      = <span class="hljs-string">"Jan _2 15:04:05"</span><br>	StampMilli = <span class="hljs-string">"Jan _2 15:04:05.000"</span><br>	StampMicro = <span class="hljs-string">"Jan _2 15:04:05.000000"</span><br>	StampNano  = <span class="hljs-string">"Jan _2 15:04:05.000000000"</span><br>)<br></code></pre></div></td></tr></table></figure>

<h2 id="对时间进行加减运算"><a href="#对时间进行加减运算" class="headerlink" title="对时间进行加减运算"></a>对时间进行加减运算</h2><h3 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h3><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	date := time.Date(<span class="hljs-number">2008</span>,<span class="hljs-number">8</span>,<span class="hljs-number">8</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">456234</span>,time.UTC)<br>	nextDate := date.AddDate(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br>	nextDateByHour := date.Add(+time.Hour * <span class="hljs-number">24</span>)<br>	previousDate := date.Add(-time.Hour * <span class="hljs-number">24</span>)<br>	<br>	fmt.Printf(<span class="hljs-string">"date is %s\n"</span>,date)<br>	fmt.Printf(<span class="hljs-string">"next date is %s\n"</span>,nextDate)<br>	fmt.Printf(<span class="hljs-string">"next date by add hour is %s\n"</span>,nextDateByHour)<br>	fmt.Printf(<span class="hljs-string">"privious date by add hour is %s\n"</span>,previousDate)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出结果如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">date <span class="hljs-keyword">is</span> <span class="hljs-number">2008</span><span class="hljs-number">-08</span><span class="hljs-number">-08</span> <span class="hljs-number">21</span>:<span class="hljs-number">22</span>:<span class="hljs-number">23.000456234</span> +<span class="hljs-number">0000</span> UTC<br>next date <span class="hljs-keyword">is</span> <span class="hljs-number">2008</span><span class="hljs-number">-08</span><span class="hljs-number">-09</span> <span class="hljs-number">21</span>:<span class="hljs-number">22</span>:<span class="hljs-number">23.000456234</span> +<span class="hljs-number">0000</span> UTC<br>next date by add hour <span class="hljs-keyword">is</span> <span class="hljs-number">2008</span><span class="hljs-number">-08</span><span class="hljs-number">-09</span> <span class="hljs-number">21</span>:<span class="hljs-number">22</span>:<span class="hljs-number">23.000456234</span> +<span class="hljs-number">0000</span> UTC<br>privious date by add hour <span class="hljs-keyword">is</span> <span class="hljs-number">2008</span><span class="hljs-number">-08</span><span class="hljs-number">-07</span> <span class="hljs-number">21</span>:<span class="hljs-number">22</span>:<span class="hljs-number">23.000456234</span> +<span class="hljs-number">0000</span> UTC<br></code></pre></div></td></tr></table></figure>

<h3 id="减法"><a href="#减法" class="headerlink" title="减法"></a>减法</h3><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	start := time.Now()<br>	time.Sleep(<span class="hljs-number">1</span>*time.Second)<br>	stop := time.Now()<br><br>	cost := stop.Sub(start)<br>	fmt.Printf(<span class="hljs-string">"The call took %v to run.\n"</span>,cost)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出结果如下：</p>
<figure class="highlight autoit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs autoit">The <span class="hljs-built_in">call</span> took <span class="hljs-number">1.000541262</span>s <span class="hljs-keyword">to</span> <span class="hljs-built_in">run</span>.<br></code></pre></div></td></tr></table></figure>

<h2 id="时间戳与Time相互转换"><a href="#时间戳与Time相互转换" class="headerlink" title="时间戳与Time相互转换"></a>时间戳与Time相互转换</h2><p><code>Time</code> 类具有 <code>Unix()</code> 方法，可以将时间转换为 glang 中的 UNIX 时间戳：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	now := time.Now().Unix() <span class="hljs-comment">// 秒数</span><br>	nowNano := time.Now().UnixNano() <span class="hljs-comment">// 纳秒数</span><br><br>    <span class="hljs-comment">// now is 1616484297</span><br>	fmt.Printf(<span class="hljs-string">"now is %v\n"</span>,now)<br>    <span class="hljs-comment">// nowNano is 1616484297027772000</span><br>	fmt.Printf(<span class="hljs-string">"nowNano is %v\n"</span>,nowNano)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>Unix 时间戳转 Time 格式：通过 <code>time.Unix</code> 函数</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	now := time.Unix(time.Now().Unix(), <span class="hljs-number">0</span>)<br>	fmt.Printf(<span class="hljs-string">"now is %v\n"</span>,now)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出结果如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">now <span class="hljs-keyword">is</span> <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">15</span>:<span class="hljs-number">32</span>:<span class="hljs-number">41</span> +<span class="hljs-number">0800</span> CST<br></code></pre></div></td></tr></table></figure>

<h2 id="在本地和其他时区使用时间戳获取当前日期和时间"><a href="#在本地和其他时区使用时间戳获取当前日期和时间" class="headerlink" title="在本地和其他时区使用时间戳获取当前日期和时间"></a>在本地和其他时区使用时间戳获取当前日期和时间</h2><p><code>LoadLocatio</code> 返回具有给定名称的 <code>Location</code>：</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	t := time.Now()<br>	fmt.Println(<span class="hljs-string">"Location: "</span>, t.Location(), <span class="hljs-string">" Time: "</span>, t)<br><br>	location, _ := time.LoadLocation(<span class="hljs-string">"America/New_York"</span>)<br><br>	<span class="hljs-comment">// 转换时区</span><br>	tInAmerica := t.In(location)<br>	fmt.Println(<span class="hljs-string">"Location: "</span>, location, <span class="hljs-string">" Time: "</span>, tInAmerica)<br><br>	location, _ = time.LoadLocation(<span class="hljs-string">"Asia/Shanghai"</span>)<br>	tInShanghai := t.In(location)<br>	fmt.Println(<span class="hljs-string">"Location: "</span>, location, <span class="hljs-string">" Time: "</span>, tInShanghai)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">Location:  Local  Time:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">21</span>:<span class="hljs-number">46</span>:<span class="hljs-number">37.255412</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">0.000090396</span><br>Location:  America/New_York  Time:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">09</span>:<span class="hljs-number">46</span>:<span class="hljs-number">37.255412</span> <span class="hljs-number">-0400</span> EDT<br>Location:  Asia/Shanghai  Time:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">21</span>:<span class="hljs-number">46</span>:<span class="hljs-number">37.255412</span> +<span class="hljs-number">0800</span> CST<br></code></pre></div></td></tr></table></figure>

<h2 id="获取-Weekday-和-Yearday"><a href="#获取-Weekday-和-Yearday" class="headerlink" title="获取 Weekday 和 Yearday"></a>获取 Weekday 和 Yearday</h2><p>Weekday 返回由 t 指定的星期几。Yearday 返回由 t 指定的一年中的第几天，非闰年范围为 <code>[1,365]</code>，闰年为 <code>[1,366]</code>。</p>
<figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	t, _ := time.Parse(<span class="hljs-string">"2006 01 02 15 04"</span>, <span class="hljs-string">"2015 11 11 16 50"</span>)<br>	fmt.Println(t.YearDay()) <span class="hljs-comment">// 315</span><br>	fmt.Println(t.Weekday()) <span class="hljs-comment">// Wednesday</span><br><br>	t, _ = time.Parse(<span class="hljs-string">"2006 01 02 15 04"</span>, <span class="hljs-string">"2011 01 01 0 00"</span>)<br>	fmt.Println(t.YearDay()) <span class="hljs-comment">// 1</span><br>	fmt.Println(t.Weekday()) <span class="hljs-comment">// Saturday</span><br>&#125;<br></code></pre></div></td></tr></table></figure>

<h2 id="日期时间的前后关系判断"><a href="#日期时间的前后关系判断" class="headerlink" title="日期时间的前后关系判断"></a>日期时间的前后关系判断</h2><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	t1 := time.Now()<br>	t2 := t1.Add(time.Minute)<br>	t3 := t1.Add(-time.Minute)<br>	<span class="hljs-keyword">if</span> t1.Before(t2) &#123;<br>		fmt.Println(<span class="hljs-string">"t1 is before t2"</span>)<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		fmt.Println(<span class="hljs-string">"t1 is after t2"</span>)<br>	&#125;<br>	fmt.Println(time.Since(t3))<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>输出结果如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">t1 <span class="hljs-keyword">is</span> before t2<br><span class="hljs-number">1</span>m0<span class="hljs-number">.000028295</span>s<br></code></pre></div></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		timer := time.NewTimer(<span class="hljs-number">2</span> * time.Second)<br>        <span class="hljs-keyword">for</span> t := <span class="hljs-keyword">range</span> timer.C:<br>				fmt.Println(<span class="hljs-string">"timer fired"</span>)<br>			&#125;<br>		&#125;<br>	&#125;()<br><br>	time.Sleep(<span class="hljs-number">3</span> * time.Second)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h2 id="断续器（每个固定的时间执行一次）"><a href="#断续器（每个固定的时间执行一次）" class="headerlink" title="断续器（每个固定的时间执行一次）"></a>断续器（每个固定的时间执行一次）</h2><figure class="highlight go"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	ticker := time.NewTicker(<span class="hljs-number">1</span> * time.Second)<br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		<span class="hljs-keyword">for</span> t := <span class="hljs-keyword">range</span> ticker.C:<br>				fmt.Println(<span class="hljs-string">"ticker at: "</span>, t)<br>			&#125;<br>		&#125;<br>	&#125;()<br><br>	time.Sleep(<span class="hljs-number">10</span> * time.Second)<br>&#125;<br></code></pre></div></td></tr></table></figure>

<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">49.743301</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">1.003682073</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">50.741223</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">2.001600968</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">51.744963</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">3.005338145</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">52.742212</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">4.002584520</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">53.741429</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">5.001799684</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">54.742483</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">6.002850379</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">55.741314</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">7.001678696</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">56.743402</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">8.003764744</span><br>ticker at:  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span> <span class="hljs-number">22</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.740211</span> +<span class="hljs-number">0800</span> CST m=+<span class="hljs-number">9.000570923</span><br></code></pre></div></td></tr></table></figure>



<p><strong>参考资料</strong>：</p>
<blockquote>
<p><a href="https://www.jianshu.com/p/3b4b1e1f71f2" target="_blank" rel="noopener">go time包的使用</a></p>
<p><a href="https://juejin.cn/post/6844903823933177863#heading-3" target="_blank" rel="noopener">Golang如何使用time包</a></p>
</blockquote>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/go/">go</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/03/25/Opentracing%E6%A0%87%E5%87%86%E5%92%8CJaeger%E5%AE%9E%E7%8E%B0/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">分布式链路追踪（OpenTracing标准）和 Jaeger 实现</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/03/16/Go%E4%B8%AD%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8/">
                        <span class="hidden-mobile">Go 中的单元测试和基准测试的使用</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.lazyComments('comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'xiao-ming9/xiao-ming9.github.io');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        粤ICP备18114217号
      </a>
    </span>
    
      
        <span>
          <a
            href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=粤ICP备18114217号-1"
            rel="nofollow noopener"
            class="beian-police"
            target="_blank"
          >
            
              <span style="visibility: hidden; width: 0">|</span>
              <img src="/img/police_beian.png" alt="police-icon"/>
            
            <span>粤ICP备18114217号-1</span>
          </a>
        </span>
      
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->




  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  
    <!-- Google Analytics -->
    <script defer>
      window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) };
      ga.l = +new Date;
      ga('create', 'G-M2RT7SDT3L', 'auto');
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  
    <!-- Google gtag.js -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M2RT7SDT3L"></script>
    <script defer>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-M2RT7SDT3L');
    </script>
  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
