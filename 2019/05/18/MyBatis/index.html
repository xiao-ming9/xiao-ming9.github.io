<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            MyBatis | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="MyBatis 持久层
对JDBC的封装
将sql语句放在映射文件中（xml）
自动将输入参数映射到sql语句的动态参数上
自动将sql语句执行的结果映射成java对象
">
    <meta name="keywords" content=",java,mybatis">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/05/18/MyBatis/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/05/18/MyBatis/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="MyBatis | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="MyBatis 持久层
对JDBC的封装
将sql语句放在映射文件中（xml）
自动将输入参数映射到sql语句的动态参数上
自动将sql语句执行的结果映射成java对象
">
    <meta property="og:article:tag" content="java"> <meta property="og:article:tag" content="mybatis"> 

    
        <meta property="article:published_time" content="Sat May 18 2019 15:12:49 GMT+0800">
        <meta property="article:modified_time" content="Sun Sep 01 2019 19:07:02 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/05/18/MyBatis/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/05/18/MyBatis/index.html",
    "headline": "MyBatis",
    "datePublished": "Sat May 18 2019 15:12:49 GMT+0800",
    "dateModified": "Sun Sep 01 2019 19:07:02 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",java,mybatis",
    "description": "MyBatis 持久层
对JDBC的封装
将sql语句放在映射文件中（xml）
自动将输入参数映射到sql语句的动态参数上
自动将sql语句执行的结果映射成java对象
",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#MyBatis-持久层"><span class="post-toc-number">1.</span> <span class="post-toc-text">MyBatis 持久层</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#MyBatis配置"><span class="post-toc-number">2.</span> <span class="post-toc-text">MyBatis配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#相关配置说明"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">相关配置说明</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#映射文件的配置"><span class="post-toc-number">3.</span> <span class="post-toc-text">映射文件的配置</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#构建SqlSessionFactory"><span class="post-toc-number">4.</span> <span class="post-toc-text">构建SqlSessionFactory</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#mapper相关使用细节"><span class="post-toc-number">5.</span> <span class="post-toc-text">mapper相关使用细节</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#列名与属性名不一致的情况"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">列名与属性名不一致的情况</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#模糊查询-和"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">模糊查询#和$</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查询排序"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">查询排序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#多参数传递"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">多参数传递</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#插入和获取最新插入id"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">插入和获取最新插入id</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#修改"><span class="post-toc-number">5.6.</span> <span class="post-toc-text">修改</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#删除"><span class="post-toc-number">5.7.</span> <span class="post-toc-text">删除</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#动态sql"><span class="post-toc-number">6.</span> <span class="post-toc-text">动态sql</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#if"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">if</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#choose-when-otherwise"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">choose(when,otherwise)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#where"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">where</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#set"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">set</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#trim"><span class="post-toc-number">6.5.</span> <span class="post-toc-text">trim</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#foreach"><span class="post-toc-number">6.6.</span> <span class="post-toc-text">foreach</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sql"><span class="post-toc-number">6.7.</span> <span class="post-toc-text">sql</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#鉴别器"><span class="post-toc-number">7.</span> <span class="post-toc-text">鉴别器</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                MyBatis
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>5月 18, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2019/05/18/MyBatis/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/java/" rel="tag">java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/mybatis/" rel="tag">mybatis</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=MyBatis&url=http://yoursite.com/2019/05/18/MyBatis/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=MyBatis&url=http://yoursite.com/2019/05/18/MyBatis/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/05/18/MyBatis/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2019/05/18/MyBatis/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/05/18/MyBatis/index.html&title=MyBatis" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=MyBatis&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2019/05/18/MyBatis/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2019/05/18/MyBatis/index.html&text=MyBatis" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="MyBatis-持久层"><a href="#MyBatis-持久层" class="headerlink" title="MyBatis 持久层"></a>MyBatis 持久层</h1><ul>
<li>对JDBC的封装</li>
<li>将sql语句放在映射文件中（xml）</li>
<li>自动将输入参数映射到sql语句的动态参数上</li>
<li>自动将sql语句执行的结果映射成java对象</li>
</ul>
<a id="more"></a>
<h1 id="MyBatis配置"><a href="#MyBatis配置" class="headerlink" title="MyBatis配置"></a>MyBatis配置</h1><ol>
<li><p>需要导入mybatis包</p>
<pre><code class="xml">&lt;dependency&gt;
 &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
 &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
 &lt;version&gt;3.5.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</li>
<li><p>创建xml配置文件</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
     PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
     &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
 &lt;!--引入数据库连接配置--&gt;
 &lt;properties resource=&quot;db.properties&quot;/&gt;
   &lt;!-- 用于定义类型别名 --&gt;
   &lt;typeAliases&gt;
       &lt;package name=&quot;com.xm.pojo&quot;/&gt;
   &lt;/typeAliases&gt;

 &lt;!--定义数据源--&gt;
 &lt;environments default=&quot;development&quot;&gt;
     &lt;environment id=&quot;development&quot;&gt;
         &lt;transactionManager type=&quot;JDBC&quot;/&gt;
         &lt;dataSource type=&quot;POOLED&quot;&gt;
             &lt;property name=&quot;driver&quot; value=&quot;${jdbc.driver}&quot;/&gt;
             &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;
             &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot;/&gt;
             &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;
         &lt;/dataSource&gt;
     &lt;/environment&gt;
 &lt;/environments&gt;
 &lt;!--定义映射文件--&gt;
 &lt;mappers&gt;
 &lt;!--&lt;mapper resource=&quot;com.xm.mybatis.mapper.BlogMapper.xml&quot;/&gt;--&gt;
     &lt;package name=&quot;com.xm.mybatis.mapper&quot;/&gt;
 &lt;/mappers&gt;
&lt;/configuration&gt;</code></pre>
</li>
</ol>
<h2 id="相关配置说明"><a href="#相关配置说明" class="headerlink" title="相关配置说明"></a>相关配置说明</h2><ol>
<li><code>enviironments</code>用于配置多种运行环境</li>
<li><code>default</code>指定默认的环境id</li>
<li>每个<code>environment</code>元素可以定义自己的环境id</li>
<li><code>transactionManager</code>是事务管理器，MyBatis中有两种类型的事务管理器</li>
</ol>
<ul>
<li><code>JDBC</code> 这个配置直接使用了JDBC的提交和回滚设置，它依赖于从数据源得到的连接来管理事务作用域</li>
<li><code>MANAGER</code>这个配置几乎什么都没做，它从来不提交或者回滚一个连接，而是让容器来管理事务的整个生命周期</li>
</ul>
<ol start="5">
<li><code>datasource</code>配置数据源，<code>type</code>有三种类型可选</li>
</ol>
<ul>
<li><code>UNPLOOLED</code>:每次请求时都打开和关闭连接</li>
<li><code>POOLED</code>:使用连接池，可以设置<code>poolMaximumActiveConnection</code>最大连接数量；<code>poolMaximumIdleConnections</code>最大空闲数；<code>poolMaximumCheckoutTime</code>在被强制返回之前连接超时时间，默认20000毫秒（20秒）；<code>poolTimeWait</code>超时时间（默认20秒）等等</li>
<li><code>JNDI</code></li>
</ul>
<ol start="6">
<li><code>mappers</code>映射器，用于告诉MyBatis去哪里寻找sql映射语句，可以使用类路径，完全限定资源定位符（URL），类名，包名等<pre><code class="xml">&lt;mappers&gt;    
 &lt;!-- 使用相对类路径的资源引用 --&gt;
 &lt;mapper resource=&quot;com.xm.mybatis.xxxMapper.xml&quot;/&gt;
 &lt;!-- 使用完全限定资源定位符（URL）--&gt;
 &lt;mapper url=&quot;file:///var/mappers/xxxMapper.xml&quot;/&gt;
 &lt;!-- 使用类名 --&gt;
 &lt;mapper class=&quot;com.xm.mybatis.xxxMapper&quot;/&gt;
 &lt;!--将包内的所用内容注册为映射器 --&gt;
 &lt;package name=&quot;com.xm.mybatis&quot;/&gt;
&lt;/mappers&gt;</code></pre>
</li>
<li><code>typeAliases</code>用于配置类型别名，即对实体类进行命名，方便后面在配置映射文件时指定具体实体类，可以指定具体类或指定一个包的方式进行配置<pre><code class="xml">&lt;!-- 通过指定具体类型 --&gt;
&lt;typeAliases&gt;
   &lt;typeAliase alias=&quot;Blog&quot; type=&quot;com.xm.pojo.Blog&quot;/&gt;
&lt;/typeAliases&gt;
&lt;!-- 指定包名，MyBatis会在包名下搜索，默认别名为类名 --&gt;
&lt;typeAliases&gt;
 &lt;package name=&quot;com.xm.pojo&quot;/&gt;
&lt;/typeAliases&gt;</code></pre>
<blockquote>
<p>在Mybatis中，已经封装了一些常见的类型别名：<br><code>int</code>表示<strong>integer</strong><br><code>_int</code>表示<strong>int</strong></p>
</blockquote>
</li>
</ol>
<h1 id="映射文件的配置"><a href="#映射文件的配置" class="headerlink" title="映射文件的配置"></a>映射文件的配置</h1><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
        &lt;!DOCTYPE mapper
                PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
                &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.xm.mapper.BlogMapper&quot;&gt;
      &lt;!-- 需要创建相应的接口,id的值为接口方法名 --&gt;
    &lt;select id=&quot;selectBlog&quot; parameterType=&quot;int&quot; resultType=&quot;Blog&quot;&gt;
        select * from Blogs where id = #{id}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre>
<p>对应的接口</p>
<pre><code class="java">package com.xm.mapper;

import com.xm.pojo.Blog;

public interface BlogMapper {
    public Blog selectBlog(int id);
}</code></pre>
<h1 id="构建SqlSessionFactory"><a href="#构建SqlSessionFactory" class="headerlink" title="构建SqlSessionFactory"></a>构建SqlSessionFactory</h1><p>每个基于MyBatis的应用都需要以一个<code>SqlSessionFactory</code>的实例为核心，SqlSessionFactoryd的实例可以通过<code>SqlSessionFactoryBuilder</code>获得，通过SqlSesstionFactory就可以获得<code>sqlSession</code>实例，该实例包含了面向数据库执行SQL命令所需的所有方法，通过sqlSession可以获取指定的mapper映射类<br>具体使用方法如下：</p>
<pre><code class="java">package com.xm.utils;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

import java.io.IOException;
import java.io.InputStream;

public class MyBatisUtil {
    private static SqlSessionFactory sqlSessionFactory = null;
    static {
        try {
              //加载mybatis配置文件
            InputStream inputStream = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
              //获取sqlSessionFactory
            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public MyBatisUtil() {
    }

    public static SqlSession sqlSession(){
          //获取sqlSession实例
        return sqlSessionFactory.openSession();
    }
}</code></pre>
<p>测试案例</p>
<pre><code class="java">/**
* 需要创建BlogMapper接口的方式 
*/
@Test
public void testSelectBlog(){
    SqlSession sqlSession = MyBatisUtil.sqlSession();
    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);
    Blog blog = mapper.selectBlog(1);//执行映射文件id为selectBlog的方法
    System.out.println(blog);
    sqlSession.close();
}

/**
* 不需要创建BlogMapper的方式
*/
@Test
public void testSelectBlogNoInterface(){
    SqlSession sqlSession = MyBatisUtil.sqlSession();
      //指定到BlogMapper.xml配置的命名空间
    Blog blog = sqlSession.selectOne(
            &quot;com.xm.mapper.BlogMapper.selectBlog&quot;,1);
    sqlSession.close();
    System.out.println(blog);
}</code></pre>
<h1 id="mapper相关使用细节"><a href="#mapper相关使用细节" class="headerlink" title="mapper相关使用细节"></a>mapper相关使用细节</h1><h2 id="列名与属性名不一致的情况"><a href="#列名与属性名不一致的情况" class="headerlink" title="列名与属性名不一致的情况"></a>列名与属性名不一致的情况</h2><p>当对类中的某个属性定义的属性名与所对应的数据表的字段名不一致时，需要手动配置指定对应字段名，否则会读取不到数据<br>配置字段对应类属性名的方式：</p>
<ol>
<li><p>在select语句中对字段起别名</p>
<pre><code class="xml">&lt;select id=&quot;selectBlog&quot; parameterType=&quot;int&quot; resultType=&quot;Blog&quot;&gt;
 select id,title,author_id as authorId,featured,style from Blogs where id = #{id}
&lt;/select&gt;</code></pre>
</li>
<li><p>配置<code>resultMap</code>:在mapper配置文件中，添加resultMap节点，同时在statement中指定resultMap.</p>
<pre><code class="xml">&lt;mapper namespace=&quot;com.xm.mapper.BlogMapper&quot;&gt;
 &lt;resultMap id=&quot;blogResultMap&quot; type=&quot;Blog&quot;&gt;
     &lt;id column=&quot;id&quot; property=&quot;id&quot; javaType=&quot;INTEGER&quot;/&gt;
     &lt;result column=&quot;author_id&quot; property=&quot;authorId&quot; javaType=&quot;INTEGER&quot;/&gt;
 &lt;/resultMap&gt;

 &lt;select id=&quot;selectBlog2&quot; parameterType=&quot;int&quot; resultMap=&quot;blogResultMap&quot;&gt;
     select * from blogs where id = #{id}
 &lt;/select&gt;
&lt;/mapper&gt;</code></pre>
</li>
</ol>
<h2 id="模糊查询-和"><a href="#模糊查询-和" class="headerlink" title="模糊查询#和$"></a>模糊查询#和$</h2><p><code>#</code>表示的是占位符，即<strong>会使用?符号进行预处理</strong>，而<code>$</code>表示的是字符串拼接符，会<strong>直接替换内容</strong>。<br>当使用$的时候，如果要设置其值（非列名和表名的情况），只能使用<strong>value</strong>作为参数，但是会有sql注入问题，一般不建议这样使用</p>
<pre><code class="xml">&lt;select id=&quot;selectBlogByTitle&quot; parameterType=&quot;string&quot; resultMap=&quot;blogResultMap&quot;&gt;
    select * from blogs where lower(title) like lower(#{title})
&lt;/select&gt;

&lt;select id=&quot;selectBlogByTitle2&quot; parameterType=&quot;string&quot; resultMap=&quot;blogResultMap&quot;&gt;
    select * from blogs where lower (title) like lower (${value})
&lt;/select&gt;</code></pre>
<h2 id="查询排序"><a href="#查询排序" class="headerlink" title="查询排序"></a>查询排序</h2><p>对于查询中使用列名，表名的情况，只能使用$,使用#没有效果</p>
<pre><code class="xml">&lt;select id=&quot;selectBlogBySort&quot; parameterType=&quot;string&quot; resultMap=&quot;blogResultMap&quot;&gt;
      &lt;!-- convert函数用于指定字符编码，针对中文排序的情况 --&gt;
    select * from blogs order by convert(${value} using gbk);
&lt;/select&gt;</code></pre>
<h2 id="多参数传递"><a href="#多参数传递" class="headerlink" title="多参数传递"></a>多参数传递</h2><p>可以有多种方法进行多参数传递</p>
<ol>
<li>使用索引：按照参数排序，<code>arg</code>从<strong>0</strong>开始，<code>param</code>从<strong>1</strong>开始<pre><code class="xml">&lt;select id=&quot;selectBlogByPage&quot; resultMap=&quot;blogResultMap&quot;&gt;
 select * from blogs limit #{arg0},#{arg1}
&lt;/select&gt;
</code></pre>
</li>
</ol>
<select id="selectBlogByPage" resultMap="blogResultMap">
    select * from blogs limit #{param1},#{param2}
</select>
```

<ol start="2">
<li><p>使用注解：注解的value值要和mapper的占位参数名一致</p>
<pre><code class="xml">&lt;select id=&quot;selectBlogByPage2&quot; resultMap=&quot;blogResultMap&quot;&gt;
 select * from blogs limit #{offset},#{pagesize}
&lt;/select&gt;</code></pre>
<p>对应的接口：</p>
<pre><code class="java">List&lt;Blog&gt; selectBlogByPage2(
     @Param(value = &quot;offset&quot;) int offset,
     @Param(value = &quot;pagesize&quot;) int pagesize);</code></pre>
</li>
<li><p>使用map<br>mapper的配置保持不变，其中的占位符参数名要和测试中map的key一一对应<br>接口：</p>
<pre><code class="java">List&lt;Blog&gt; selectBlogByPage3(Map&lt;String,Object&gt; map);</code></pre>
<p>测试：</p>
<pre><code class="java">@Test
public void testSelectBlogByPage3(){
 SqlSession sqlSession = MyBatisUtil.sqlSession();
 BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);
 //自己构建一个map
 Map&lt;String,Object&gt; map = new HashMap&lt;String, Object&gt;();
 //注意key要和参数名对应
 map.put(&quot;offset&quot;,0);
 map.put(&quot;pagesize&quot;,2);
 List&lt;Blog&gt; blogs = mapper.selectBlogByPage3(map);
 sqlSession.close();
 for (Blog blog : blogs) {
     System.out.println(blog);
 }
}</code></pre>
</li>
</ol>
<h2 id="插入和获取最新插入id"><a href="#插入和获取最新插入id" class="headerlink" title="插入和获取最新插入id"></a>插入和获取最新插入id</h2><p>在mapeer中使用insert节点,insert方法返回的是该操作影响的行数</p>
<pre><code class="xml">&lt;insert id=&quot;insertBlog&quot; parameterType=&quot;Blog&quot; &gt;
    insert into blogs (title, author_id, featured, style) value (#{title},#{authorId},#{featured},#{style})
&lt;/insert&gt;</code></pre>
<p>测试：</p>
<pre><code class="java">@Test
public void testInsertBlog(){
    SqlSession sqlSession = MyBatisUtil.sqlSession();
    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);
    Blog blog = new Blog();
    int id = mapper.insertBlog(blog);//返回影响行数
    sqlSession.commit();//要进行提交
    System.out.println(id);
    sqlSession.close();
}</code></pre>
<p><strong>获取插入id的三种方式</strong></p>
<ol>
<li>在mapper中配置insert节点的属性<blockquote>
<p>useGeneratedKeys = true keyProperty=”id”  </p>
</blockquote>
</li>
</ol>
<ul>
<li>useGeneratedKeys仅对 insert 和 update 有用，这会令 MyBatis 使用 JDBC 的 getGeneratedKeys 方法来取出由数据库内部生成的主键（比如：像 MySQL 和 SQL Server 这样的关系数据库管理系统的自动递增字段），默认值：false。</li>
<li>keyProperty仅对 insert 和 update 有用）唯一标记一个属性，指定主键名是什么，MyBatis 会通过 getGeneratedKeys 的返回值或者通过 insert 语句的 selectKey 子元素设置它的键值，默认值：未设置（unset）。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。<pre><code class="xml">&lt;insert id=&quot;insertBlog&quot; parameterType=&quot;Blog&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;
  insert into blogs (title, author_id, featured, style) value (#{title},#{authorId},#{featured},#{style})
&lt;/insert&gt;</code></pre>
测试：<pre><code class="java">@Test
public void testInsertBlog(){
  SqlSession sqlSession = MyBatisUtil.sqlSession();
  BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);
  Blog blog = new Blog();
  System.out.println(blog);//blog的id属性尚未赋值
  int id = mapper.insertBlog(blog);//返回影响行数
  sqlSession.commit();//要进行提交
  System.out.println(id);
  System.out.println(blog);//在事务提交执行成功之后自动为对象的id属性赋值
  sqlSession.close();
}</code></pre>
</li>
</ul>
<ol start="2">
<li><p>在全局配置文件中配置<code>settings</code>节点，并且在mapper的insert节点指定主键名，即配置<code>keyProperty=“id</code></p>
<pre><code class="xml">&lt;settings&gt;
 &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;true&quot;/&gt;
&lt;/settings&gt;</code></pre>
</li>
<li><p>（针对Oracle等无主键的数据库）在inseert节点中加入<code>selectKey</code>属性，其有一下变量属性：</p>
<ul>
<li>keyProperty：selectKey 语句结果应该被设置的目标属性。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。</li>
<li>keyColumn：匹配属性的返回结果集中的列名称。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。</li>
<li>resultType：结果的类型。MyBatis 通常可以推断出来，但是为了更加精确，写上也不会有什么问题。MyBatis 允许将任何简单类型用作主键的类型，包括字符串。如果希望作用于多个生成的列，则可以使用一个包含期望属性的 Object 或一个 Map。-</li>
<li>order：这可以被设置为 BEFORE 或 AFTER。如果设置为 BEFORE，那么它会首先生成主键，设置 keyProperty 然后执行插入语句。如果设置为 AFTER，那么先执行插入语句，然后是 selectKey 中的语句 - 这和 Oracle 数据库的行为相似，在插入语句内部可能有嵌入索引调用。</li>
<li>statementType：STATEMENT，PREPARED 或 CALLABLE 的一个。这会让 MyBatis 分别使用 Statement，PreparedStatement 或 CallableStatement，默认值：PREPARED。<pre><code class="xml">&lt;insert id=&quot;insertBlog2&quot; parameterType=&quot;Blog&quot; keyProperty=&quot;id&quot;&gt;
&lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;java.lang.Integer&quot;&gt;
  select LAST_INSERT_ID()
&lt;/selectKey&gt;
insert into blogs (title, author_id, featured, style) value (#{title},#{authorId},#{featured},#{style})
&lt;/insert&gt;</code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h2><p>使用update节点</p>
<pre><code class="xml">&lt;update id=&quot;updateBlog&quot; parameterType=&quot;Blog&quot;&gt;
    update blogs set title=#{title},author_id=#{authorId},featured=#{featured},style=#{style} where id=#{id}
&lt;/update&gt;</code></pre>
<p>在实际应用中，如果只针对某个字段做修改，可以先查询获得实体类，再对实体类属性进行修改<br>为了进一步提高效率，可以使用<strong>动态sql</strong>的方式</p>
<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><pre><code class="xml">&lt;delete id=&quot;deleteBlogById&quot; parameterType=&quot;int&quot;&gt;
    delete from blogs where id=#{id}
&lt;/delete&gt;</code></pre>
<h1 id="动态sql"><a href="#动态sql" class="headerlink" title="动态sql"></a>动态sql</h1><p>动态sql有以下几种类型</p>
<ul>
<li>if</li>
<li>choose (when, otherwise)</li>
<li>trim (where, set)</li>
<li>foreach</li>
</ul>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><p>if提供了可选的查询方案，如果if中的条件成立，则执行if中的语句，否则只执行if外的sql语句</p>
<pre><code class="xml">&lt;select id=&quot;selectActiveBlogByTitle&quot; parameterType=&quot;string&quot; resultMap=&quot;blogResultMap&quot;&gt;
    select * from blogs where featured=false
    &lt;if test=&quot;_parameter != null&quot;&gt;
        AND title like #{title}
    &lt;/if&gt;
&lt;/select&gt;</code></pre>
<p><strong>注意</strong>：<br>当参数类型为<strong>string</strong>时，test中的属性名不能直接写参数名，否则会抛出异常：</p>
<blockquote>
<p>There is no getter for property named ‘XXX’ in ‘class java.lang.String  </p>
</blockquote>
<p><strong>解决办法</strong></p>
<ol>
<li>将test中的属性名更换为<code>_parameter</code></li>
<li>加上<strong>单引号</strong></li>
<li>可以在接口处的参数使用<code>@param</code>修饰<pre><code class="java">List&lt;Blog&gt; selectActiveBlogByTitle(
@Param(value = &quot;title&quot;) String title);</code></pre>
</li>
</ol>
<h2 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose(when,otherwise)"></a>choose(when,otherwise)</h2><p>用于多个条件判断，当满足其中某个when条件时，sql语句加上其中的内容，否则只执行外部的内容</p>
<blockquote>
<p>一旦某个when条件成立，就不会再判断下面的when语句了  </p>
</blockquote>
<pre><code class="xml">&lt;!-- 此时接收的参数为一个对象 --&gt;
&lt;select id=&quot;selectActiveBlogByTitleOrOther&quot; parameterType=&quot;Blog&quot; resultMap=&quot;blogResultMap&quot;&gt;
    select * from blogs where featured=false
    &lt;choose&gt;
        &lt;when test=&quot;title != null&quot;&gt;
            AND title =#{title}
        &lt;/when&gt;
        &lt;when test=&quot;authorId != null&quot;&gt;
            and author_id = #{authorId}
        &lt;/when&gt;
        &lt;when test=&quot;style&quot;&gt;
            and style = #{style}
        &lt;/when&gt;
        &lt;otherwise&gt;
            and id&gt;0
        &lt;/otherwise&gt;
    &lt;/choose&gt;
&lt;/select&gt;</code></pre>
<h2 id="where"><a href="#where" class="headerlink" title="where"></a>where</h2><p>如果希望where条件语句也在需要的时候才加入，可以使用<code>where</code>来进行判断。<br>where元素只会在至少有一个子元素的条件返回 SQL 子句的情况下才去插入“WHERE”子句。而且，<strong>若语句的开头为“AND”或“OR”，where元素也会将它们去除</strong></p>
<pre><code class="xml">&lt;select id=&quot;selectActiveBlogByTitle2&quot;  resultMap=&quot;blogResultMap&quot;&gt;
    select * from blogs
    &lt;where&gt;
        &lt;if test=&quot;featured != null&quot;&gt;
            featured = #{featured}
        &lt;/if&gt;
        &lt;if test=&quot;title != null&quot;&gt;
            AND title like #{title}
        &lt;/if&gt;
    &lt;/where&gt;
&lt;/select&gt;</code></pre>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>可以使用set元素实现按需更新，指定具体需要更新的字段,set元素会动态前置 SET 关键字，同时也会删掉无关的逗号。</p>
<pre><code class="xml">&lt;update id=&quot;updateBlogByCondition&quot; parameterType=&quot;Blog&quot;&gt;
    update blogs
    &lt;set&gt;
        &lt;if test=&quot;title != null&quot;&gt;title = #{title},&lt;/if&gt;
        &lt;if test=&quot;authorId != null&quot;&gt;author_id = #{authorId},&lt;/if&gt;
        &lt;if test=&quot;featured != null&quot;&gt;featured = #{featured},&lt;/if&gt;
        &lt;if test=&quot;style != null&quot;&gt;style = #{style},&lt;/if&gt;
    &lt;/set&gt;
    where id = #{id}
&lt;/update&gt;</code></pre>
<h2 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h2><p>trim可以用于指定加入的前缀和指定自动去除的前面或后面的内容，它有下面四个属性</p>
<ul>
<li>prefix ：加入的前置名</li>
<li>suffix：加入的后缀名</li>
<li>prefixOverrides：自动去除前面的内容</li>
<li>suffiexOverrides：自动去除后面的内容</li>
</ul>
<blockquote>
<p><em>prefixOverrides</em>属性会忽略通过管道分隔的文本序列（注意此例中的空格也是必要的）。它的作用是移除所有指定在<em>prefixOverrides</em>属性中的内容，并且插入<em>prefix</em>属性中指定的内容。(<strong>suffiexOverrides</strong>同理）  </p>
</blockquote>
<p>where属性相当于：</p>
<pre><code class="xml">&lt;trim prefix=&quot;WHERE&quot; prefixOverrides=&quot;AND |OR &quot;&gt;
  ...
&lt;/trim&gt;</code></pre>
<p>set属性相当于:</p>
<pre><code class="xml">&lt;trim prefix=&quot;SET&quot; suffixOverrides=&quot;,&quot;&gt;
  ...
&lt;/trim&gt;</code></pre>
<h2 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h2><p>foreach是对一个集合进行遍历，通常是在构建 IN 条件语句的时候。</p>
<ul>
<li><code>item</code>：集合的值</li>
<li><code>index</code>：集合的索引</li>
<li><code>collection</code>:指定传入单数的类型， List、Set、Map 对象或者数组对象等都可以传递给<em>foreach</em>作为集合参数</li>
<li><code>open</code>：指定开头</li>
<li><code>sepatator</code>：指定分隔符</li>
<li><code>close</code>：指定结尾</li>
</ul>
<blockquote>
<p>当使用可迭代对象或者数组时，index 是当前迭代的次数，item 的值是本次迭代获取的元素。当使用 Map 对象（或者 Map.Entry 对象的集合）时，index 是键，item 是值。  </p>
</blockquote>
<pre><code class="xml">&lt;select id=&quot;selectPostIn&quot; resultType=&quot;domain.blog.Post&quot;&gt;
  SELECT *
  FROM POST P
  WHERE ID in
  &lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;list&quot;
      open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;
        #{item}
  &lt;/foreach&gt;
&lt;/select&gt;</code></pre>
<h2 id="sql"><a href="#sql" class="headerlink" title="sql"></a>sql</h2><p>这个元素可以被用来定义可重用的 SQL 代码段，这些 SQL 代码可以被包含在其他语句中。它可以（在加载的时候）被静态地设置参数。 在不同的包含语句中可以设置不同的值到参数占位符上</p>
<pre><code class="xml">&lt;sql id=&quot;columnBase&quot;&gt;
    id,title,author_id as authorId,featured,style
&lt;/sql&gt;

&lt;!-- 引用方式 --&gt;
&lt;select id=&quot;selectBlog&quot; parameterType=&quot;int&quot; resultType=&quot;Blog&quot;&gt;
    select 
    &lt;include refid=&quot;columnBase&quot;&gt;&lt;/include&gt;
    from Blogs where id = #{id}
&lt;/select&gt;</code></pre>
<h1 id="鉴别器"><a href="#鉴别器" class="headerlink" title="鉴别器"></a>鉴别器</h1><p>如果一个数据表中，某个字段为不同值会影响其他字段，比如说A字段为1时，它的x字段有值，而y字段为空；而当A字段为2时，x字段为空，y字段有值。此时可以通过子类继承拓展的方式实现：<br>父类不包含x，y字段，两个子类继承父类分别包含x和y，然后在映射中使用鉴别器<code>discriminator</code>进行判别，自动生成对应的字类。</p>
<pre><code class="xml">&lt;resultMap type=&quot;Vehicle&quot; id=&quot;vehicleResultMap&quot;&gt;
      &lt;id column=&quot;id&quot; property=&quot;id&quot; jdbcType=&quot;INTEGER&quot;/&gt;

      &lt;!-- 根据指定字段的值设置不同的返回类型 --&gt;
      &lt;discriminator javaType=&quot;int&quot; column=&quot;vehicle_type&quot;&gt;
            &lt;!-- Car是继承Vehicle的字类，其多了一个doorCount成员变量 --&gt;
            &lt;case value=&quot;1&quot; resultType=&quot;Car&quot;&gt;
                  &lt;result column=&quot;door_count&quot; property=&quot;doorCount&quot;/&gt;
            &lt;/case&gt;
            &lt;case value=&quot;2&quot; resultType=&quot;Suv&quot;&gt;
                  &lt;result column=&quot;all_wheel_drive&quot;  property=&quot;allWheelDrive&quot;/&gt;
            &lt;/case&gt;
      &lt;/discriminator&gt;</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/05/18/MyBatis/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/05/18/MyBatis/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/05/22/mybatis-generator/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/05/14/spring%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
