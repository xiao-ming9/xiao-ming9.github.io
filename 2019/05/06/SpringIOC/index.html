<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            SpringIoC | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="IOC容器IOC控制反转，是一种设计原则，用于降低程序的耦合性，其中最常见的方式是依赖注入（DI），将不同对象之间的关联关系由原来的由开发人员管理转化为由spring进行管理，在设置对象关联关系的方法上，主要有注解和XML两种方式
注解的方式主要有以下几个：

组件扫描


@Component：把普通的对象实例话到Spring容器中，当需要调用实例话对象时，可以直接从Spring容器中获取
@ComponentScan：扫描项目从中找出需要装配的类自动装配到spring的bean容器中
">
    <meta name="keywords" content=",java,spring">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/05/06/SpringIOC/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/05/06/SpringIOC/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="SpringIoC | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="IOC容器IOC控制反转，是一种设计原则，用于降低程序的耦合性，其中最常见的方式是依赖注入（DI），将不同对象之间的关联关系由原来的由开发人员管理转化为由spring进行管理，在设置对象关联关系的方法上，主要有注解和XML两种方式
注解的方式主要有以下几个：

组件扫描


@Component：把普通的对象实例话到Spring容器中，当需要调用实例话对象时，可以直接从Spring容器中获取
@ComponentScan：扫描项目从中找出需要装配的类自动装配到spring的bean容器中
">
    <meta property="og:article:tag" content="java"> <meta property="og:article:tag" content="spring"> 

    
        <meta property="article:published_time" content="Mon May 06 2019 08:53:05 GMT+0800">
        <meta property="article:modified_time" content="Thu Feb 27 2020 20:50:16 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/05/06/SpringIOC/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/05/06/SpringIOC/index.html",
    "headline": "SpringIoC",
    "datePublished": "Mon May 06 2019 08:53:05 GMT+0800",
    "dateModified": "Thu Feb 27 2020 20:50:16 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",java,spring",
    "description": "IOC容器IOC控制反转，是一种设计原则，用于降低程序的耦合性，其中最常见的方式是依赖注入（DI），将不同对象之间的关联关系由原来的由开发人员管理转化为由spring进行管理，在设置对象关联关系的方法上，主要有注解和XML两种方式
注解的方式主要有以下几个：

组件扫描


@Component：把普通的对象实例话到Spring容器中，当需要调用实例话对象时，可以直接从Spring容器中获取
@ComponentScan：扫描项目从中找出需要装配的类自动装配到spring的bean容器中
",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#IOC容器"><span class="post-toc-number">1.</span> <span class="post-toc-text">IOC容器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#注解的方式"><span class="post-toc-number">1.0.1.</span> <span class="post-toc-text">注解的方式</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Spring使用junit4单元测试"><span class="post-toc-number">2.</span> <span class="post-toc-text">Spring使用junit4单元测试</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自动装配的歧义性"><span class="post-toc-number">2.0.1.</span> <span class="post-toc-text">自动装配的歧义性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置组件扫描的多种方式"><span class="post-toc-number">2.0.2.</span> <span class="post-toc-text">配置组件扫描的多种方式</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#java显示装配"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">java显示装配</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置Bean对象"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">配置Bean对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#通过构造函数依赖注入"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">通过构造函数依赖注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在-bean修饰的方法中使用参数"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">在@bean修饰的方法中使用参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#通过setter方法"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">通过setter方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#XML中显示装配"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">XML中显示装配</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#多个bean的情况"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">多个bean的情况</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用注解配置"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">使用注解配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#id和name属性"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">id和name属性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#构造方法的依赖注入"><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">构造方法的依赖注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简单类型注入"><span class="post-toc-number">2.2.5.</span> <span class="post-toc-text">简单类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#List类型注入"><span class="post-toc-number">2.2.6.</span> <span class="post-toc-text">List类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#set类型注入"><span class="post-toc-number">2.2.7.</span> <span class="post-toc-text">set类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#map类型注入"><span class="post-toc-number">2.2.8.</span> <span class="post-toc-text">map类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数组类型注入"><span class="post-toc-number">2.2.9.</span> <span class="post-toc-text">数组类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Peoperty类型注入"><span class="post-toc-number">2.2.10.</span> <span class="post-toc-text">Peoperty类型注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#属性注入"><span class="post-toc-number">2.2.11.</span> <span class="post-toc-text">属性注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#p名称空间"><span class="post-toc-number">2.2.12.</span> <span class="post-toc-text">p名称空间</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#spel注入"><span class="post-toc-number">2.2.13.</span> <span class="post-toc-text">spel注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#util名称空间"><span class="post-toc-number">2.2.14.</span> <span class="post-toc-text">util名称空间</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#bean的作用域"><span class="post-toc-number">3.</span> <span class="post-toc-text">bean的作用域</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#对象的销毁和初始化"><span class="post-toc-number">4.</span> <span class="post-toc-text">对象的销毁和初始化</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Spring中工厂方法创建bean对象"><span class="post-toc-number">5.</span> <span class="post-toc-text">Spring中工厂方法创建bean对象</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                SpringIoC
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>5月 06, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2019/05/06/SpringIOC/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/java/" rel="tag">java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/spring/" rel="tag">spring</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=SpringIoC&url=http://yoursite.com/2019/05/06/SpringIOC/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=SpringIoC&url=http://yoursite.com/2019/05/06/SpringIOC/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/05/06/SpringIOC/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2019/05/06/SpringIOC/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/05/06/SpringIOC/index.html&title=SpringIoC" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=SpringIoC&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2019/05/06/SpringIOC/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2019/05/06/SpringIOC/index.html&text=SpringIoC" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="IOC容器"><a href="#IOC容器" class="headerlink" title="IOC容器"></a>IOC容器</h1><p>IOC控制反转，是一种设计原则，用于降低程序的耦合性，其中最常见的方式是依赖注入（DI），将不同对象之间的关联关系由原来的由开发人员管理转化为由spring进行管理，在设置对象关联关系的方法上，主要有注解和XML两种方式</p>
<h3 id="注解的方式"><a href="#注解的方式" class="headerlink" title="注解的方式"></a>注解的方式</h3><p>主要有以下几个：</p>
<ol>
<li>组件扫描</li>
</ol>
<ul>
<li>@Component：把普通的对象实例话到Spring容器中，当需要调用实例话对象时，可以直接从Spring容器中获取</li>
<li>@ComponentScan：扫描项目从中找出需要装配的类自动装配到spring的bean容器中</li>
</ul>
<a id="more"></a>
<ol start="2">
<li>自动装配</li>
</ol>
<ul>
<li>@Autowired：在获取bean对象时自动执行此内容，自动满足bean之间的依赖</li>
</ul>
<ol start="3">
<li>定义配置类</li>
</ol>
<ul>
<li>@Configuration:表示当前类是一个配置类<pre><code class="java">package hello;
</code></pre>
</li>
</ul>
<p>/* MessageService.java */<br>import org.springframework.stereotype.Component;</p>
<p>/**</p>
<ul>
<li><p>打印输出</p>
</li>
<li><p>/<br>@Component<br>public class MessageService {</p>
<p>  public MessageService() {</p>
<pre><code>  System.out.println(&quot;MessageService...&quot;);</code></pre><p>  }</p>
<p>  public String getMessage(){</p>
<pre><code>  return &quot;Hello world.&quot;;</code></pre><p>  }<br>}</p>
</li>
</ul>
<p>/* MessagePrinter.java */<br>import org.springframework.beans.factory.annotation.Autowired;<br>import org.springframework.stereotype.Component;</p>
<p>@Component<br>public class MessagePrinter {</p>
<pre><code>public MessagePrinter() {
    System.out.println(&quot;MessagePrinter...&quot;);
}

/**
 * 建立与MessageService的关联关系
 */
private MessageService service;

public MessageService getService() {
    return service;
}

@Autowired
public void setService(MessageService service) {
    this.service = service;
}

public void printMessage(){
    System.out.println(this.service.getMessage());
}</code></pre><p>}</p>
<p>/* ApplicatinSpring.java */<br>package hello;</p>
<p>import org.springframework.context.ApplicationContext;<br>import org.springframework.context.annotation.AnnotationConfigApplicationContext;<br>import org.springframework.context.annotation.ComponentScan;</p>
<p>@ComponentScan<br>public class ApplicationSpring {</p>
<pre><code>public static void main(String[] args) {
    System.out.println(&quot;applicationSpring&quot;);
    //初始化Spring容器
    ApplicationContext context = new AnnotationConfigApplicationContext(ApplicationSpring.class);
    //从容器中获取MessagePrinter对象
    MessagePrinter printer = context.getBean(MessagePrinter.class);
    //从容器中获取MessageService对象
    //MessageService service = context.getBean(MessageService.class);

    //因为已经有@Autowired注解，不用执行set方法
    //printer.setService(service);
    printer.printMessage();
}</code></pre><p>}</p>
<pre><code>
###  XML配置文件方式  

通过在`resources`目录下创建xml文件进行配置，property name元素是指JavaBean属性的名称，以及ref元素指的是另一个bean定义的名称。元素id和ref元素之间的这种联系表达了协作对象之间的依赖关系。
```xml
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
&lt;!--
    bean元素：描述当前的对象需要由spring容器管理
    id属性：标识对象，未来在应用程序中可以根据id获取对象
    class属性：被管理对象的类全名
--&gt;
    &lt;bean id=&quot;service&quot; class=&quot;hello.MessageService&quot;&gt;&lt;/bean&gt;

    &lt;bean id=&quot;printer&quot; class=&quot;hello.MessagePrinter&quot;&gt;
        &lt;property name=&quot;service&quot; ref=&quot;service&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</code></pre><pre><code class="java">package hello;

        import org.springframework.context.ApplicationContext;
        import org.springframework.context.support.ClassPathXmlApplicationContext;

public class ApplicationSpring {

    public static void main(String[] args) {
        System.out.println(&quot;applicationSpring&quot;);

        //初始化Spring容器
        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        //从容器中获取MessagePrinter对象
        MessagePrinter printer = context.getBean(MessagePrinter.class);
        //打印消息
        printer.printMessage();
    }
}</code></pre>
<h1 id="Spring使用junit4单元测试"><a href="#Spring使用junit4单元测试" class="headerlink" title="Spring使用junit4单元测试"></a>Spring使用junit4单元测试</h1><ul>
<li>在maven中添加依赖：<code>junit</code>,<code>spring-test</code></li>
<li>在测试类上添加注解<code>@RunWith(SpringJUnit4ClassRunner.class)</code>以及加载配置类<code>@ContextConfiguration(classes=AppConfig.class)</code><pre><code class="java">package soundsystem;
</code></pre>
</li>
</ul>
<p>import org.junit.Test;<br>import org.junit.runner.RunWith;<br>import org.springframework.beans.factory.annotation.Autowired;<br>import org.springframework.test.context.ContextConfiguration;<br>import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</p>
<p>@RunWith(SpringJUnit4ClassRunner.class)<br>@ContextConfiguration(classes = AppConfig.class)<br>public class AppTest {<br>    @Autowired<br>    private CDPlayer player;<br>    @Test<br>    public void testPlay(){<br>        player.play();<br>    }<br>}</p>
<pre><code># bean装配  

Spring中装配bean主要有三种方式：
- 隐式的bean发现机制和自动装配
- 在java中进行显示的配置
- 在XML中进行显示的配置

## 隐式自动配置  

通过使用注解的方式
1. 组件扫描
- @Component：把普通的对象实例化到Spring容器中，当需要调用实例话对象时，可以直接从Spring容器中获取
&gt; `@Controller`,`@Service`,`@Repository`的作用与@Component相同，只是更加明确其具体作用，分别对应控制层，服务层和dao层

- @ComponentScan：扫描项目从中找出需要装配的类自动装配到spring的bean容器中,默认的扫描路径为当前类所在的包及其子包,可以为其设置参数扫描指定内容
&gt; 扫描指定的包：@ComponentScan(&quot;com.xm.demo&quot;)  
&gt; 扫描多个包：@ComponentScan(basePackages = {&quot;com.xm.demo.web&quot;,&quot;com.xm.demo.service&quot;,com.xm.demo.dao&quot;})  
&gt; 扫描指定类：@ComponentScan(basePackageClasses = {UserController.class,UserService.class,UserDao.class})

2. 自动装配
- @Autowired：自动装配，在获取bean对象时自动执行此内容，自动满足bean之间的依赖
- **@Value**：对普通变量可以直接使用value注解注入，通过参数value赋值
&gt; @Value(value=&quot;value&quot;) 或者 @Value(&quot;value&quot;)

3. 定义配置类
- @Configuration:表示当前类是一个配置类，此时获取bean对象时,`AnnotationConfigApplicationContext`的参数为配置类

### @Autowired的四种使用情况  

- 用在构造函数上（多个依赖的情况）：效率最高的方式
- 用在成员变量上：最便捷的方式
- 用在setter方法上
- 用在任意方法上

### required属性  

默认情况下，如果被@Autowired注解的类没有事先放入容器中，自动装配就会失败。默认行为是将带注释的方法，构造函数和字段视为指示所需的依赖项。此时可以使用autowire的`required`属性，将其赋值为false。
&gt; @Autowired(required=false) 表示该属性不是自动装配所必需的。如果无法自动装配，则会忽略该属性。

### 使用接口  

对于程序中的接口，一般@component注解都是修饰其实现类，而在程序中自动装载@Autowired使用的是接口类
```java
/**
 * 接口
**/
public interface UserService {
    void add();
}
/**
 * 接口实现类
**/
@Component//修饰的是接口实现类
public class UserServiceNormal implements UserService {
    @Override
    public void add() {
        System.out.println(&quot;添加用户&quot;);
    }
} 
/**
 * 测试
**/
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes=AppConfig.class)
public class UserServiceTest {
    @Autowired//修饰的是接口
    private UserService userService;

    @Test
    public void testAdd(){
        userService.add();
    }
}</code></pre><h3 id="自动装配的歧义性"><a href="#自动装配的歧义性" class="headerlink" title="自动装配的歧义性"></a>自动装配的歧义性</h3><p>当一个接口有多个实现类，并且每个实现类都标注了@Component,那么当对接口类使用@Autowired时，运行会因为无法确定具体是要加载哪个类而报错</p>
<p>解决方法：</p>
<ol>
<li>首选bean<br>对优先的实现类添加注释<code>@Primary</code>,这样在自动装配的时候就会优先使用该实现类，但其局限性是只能对一个实现类使用，当存在多个实现类都修饰@Primary时仍然会报错；另外有时候在程序设计的时候并不能马上就决定哪个优先，而是要根据具体情况而定。</li>
<li>使用限定符<br>对多个实现类使用<code>@Qualifier(&quot;name&quot;)</code>进行修饰，同时指定每个实现类的名称name,在声明变量时，同样在变量前加上@Qualifier(“name”),同时写明希望调用的实现类的name</li>
<li>使用限定符和类id<br>可以在声明@Component的时候顺便为该bean指定一个id，即<code>@Component(&quot;id&quot;)</code>,在装配的时候使用<code>@Qualifier(&quot;id&quot;)</code>进行指定，默认如果不指定id的话，id是<strong>首字母小写的类名</strong></li>
<li>使用java标准的Resource<br>在装配的位置使用<code>@Resource(name=&quot;id&quot;)</code>,代替@Autowired和@Qualifier(“name”),其作用相当于两个的结果，使用前需要添加依赖包javax.annotation</li>
</ol>
<h3 id="配置组件扫描的多种方式"><a href="#配置组件扫描的多种方式" class="headerlink" title="配置组件扫描的多种方式"></a>配置组件扫描的多种方式</h3><ol>
<li>通过定义Config类专门用于组件扫描<pre><code class="java">/** Config.class **/
@Configuration//标识这是一个配置文件
@ComponentScan(basePackages = {&quot;com.xm.demo.web&quot;,&quot;com.xm.demo.service&quot;,&quot;com.xm.demo.dao&quot;})
public class AppConfig {
</code></pre>
</li>
</ol>
<p>}</p>
<p>/** 测试类 **/<br>@RunWith(SpringJUnit4ClassRunner.class)<br>@ContextConfiguration(classes = AppConfig.class)//加载组件<br>public class UserServiceTest {<br>    @Autowired<br>    private UserController userController;</p>
<pre><code>@Test
public void testAdd(){
    userController.add();
}</code></pre><p>}</p>
<pre><code>
2. 通过xml的方式进行配置
在resources目录下通过创建spring配置文件applicationContext.xml进行配置
```xml
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;
    &lt;context:component-scan base-package=&quot;com.xm.demo.service&quot;/&gt;
    &lt;context:component-scan base-package=&quot;com.xm.demo.dao&quot;/&gt;
    &lt;context:component-scan base-package=&quot;com.xm.demo.web&quot;/&gt;
&lt;/beans&gt;</code></pre><pre><code class="java">@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)//指向xml配置文件
public class UserServiceTest {
    @Autowired
    private UserController userController;

    @Test
    public void testAdd(){
        userController.add();
    }
}</code></pre>
<h2 id="java显示装配"><a href="#java显示装配" class="headerlink" title="java显示装配"></a>java显示装配</h2><h3 id="配置Bean对象"><a href="#配置Bean对象" class="headerlink" title="配置Bean对象"></a>配置Bean对象</h3><pre><code class="java">@Configuration
public class AppConfig {

    @Bean//标识该类在spring中能够被自动装配
    public UserDao userDaoNormal(){
        System.out.println(&quot;自动调用创建UserDao对象&quot;);
        return new UserDaoNormal();
    }
}</code></pre>
<p>以后调用的时候就只需要跟注解一样，添加@ContextConfiguration(classes=AppConfig.class)并在需要自动装载的地方是有@Autowired就可以</p>
<h3 id="通过构造函数依赖注入"><a href="#通过构造函数依赖注入" class="headerlink" title="通过构造函数依赖注入"></a>通过构造函数依赖注入</h3><p>当调用的方式需要依赖于其他类的方法时，可以使用</p>
<pre><code class="java">package com.xm.demo.config;

import com.xm.demo.dao.UserDao;
import com.xm.demo.dao.impl.UserDaoNormal;
import com.xm.demo.service.UserService;
import com.xm.demo.service.impl.UserServiceNormal;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppConfig {

    @Bean//标识该类在spring中能够被自动装配
    public UserDao userDaoNormal(){
        System.out.println(&quot;自动调用创建UserDao对象&quot;);
        return new UserDaoNormal();
    }

    @Bean
    public UserService userServiceNormal(){
        System.out.println(&quot;自动依赖注入创建UserServiceNormal&quot;);
        UserDao userDao = userDaoNormal();
        return new UserServiceNormal(userDao);
    }
}</code></pre>
<p>当Spring程序加载时，会自动执行@bean的语句，但是上面的userDaoNormal()不会执行两次，因为执行前spring会先判断是否已经创建了该对象，如果已经创建了，直接返回该对象（<strong>单例模式</strong>）</p>
<h3 id="在-bean修饰的方法中使用参数"><a href="#在-bean修饰的方法中使用参数" class="headerlink" title="在@bean修饰的方法中使用参数"></a>在@bean修饰的方法中使用参数</h3><p>在上面@bean方法修饰的UserServiceNormal方法中传入参数，Spring会寻找是否已经已经创建了类对象，如果有就直接返回该例</p>
<pre><code class="java">@Bean
public UserService userServiceNormal(UserDao userDao){
    return new UserServiceNormal(userDao);
}</code></pre>
<h3 id="通过setter方法"><a href="#通过setter方法" class="headerlink" title="通过setter方法"></a>通过setter方法</h3><pre><code class="java">@Bean
public UserService userServiceNormal(UserDao userDao){
    System.out.println(&quot;自动依赖注入创建UserServiceNormal&quot;);
    UserServiceNormal userService = new UserServiceNormal();
    userService.setUserDao(userDao);
    return userService;
}</code></pre>
<h2 id="XML中显示装配"><a href="#XML中显示装配" class="headerlink" title="XML中显示装配"></a>XML中显示装配</h2><p>创建spring的xml配置文件，在程序中使用<code>ClassPathXmlApplicationContext</code>加载xml文件获得上下文，之后可以通过上下文获取bean对象，默认创建的bean对象是<strong>单例的</strong>，同时xml默认会为bean创建一个<code>name</code>属性，其值默认为<code>包名.类名#0/1/2/....</code></p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

    &lt;bean class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;/&gt;
&lt;/beans&gt;</code></pre>
<pre><code class="java">public class ApplicationSpring {
    public static void main(String[] args) {
        System.out.println(&quot;ApplicationSpring is running.....&quot;);
        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        CompactDisc cd = context.getBean(CompactDisc.class);
        cd.play();
    }
}</code></pre>
<h3 id="多个bean的情况"><a href="#多个bean的情况" class="headerlink" title="多个bean的情况"></a>多个bean的情况</h3><p>当有多个相同bean的时候，可以通过在xml中设置id，在获取bean的时候通过getBean传入name参数指定使用的id</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
    &lt;bean id=&quot;compactDisc1&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;/&gt;
    &lt;bean id=&quot;compactDisc2&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;/&gt;
&lt;/beans&gt;</code></pre>
<pre><code class="java">import com.xm.demo.soundsystem.CompactDisc;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class ApplicationSpring {
    public static void main(String[] args) {
        System.out.println(&quot;ApplicationSpring is running.....&quot;);
        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        CompactDisc cd = (CompactDisc) context.getBean(&quot;compactDisc2&quot;);//指定id
        cd.play();
    }
}</code></pre>
<h3 id="使用注解配置"><a href="#使用注解配置" class="headerlink" title="使用注解配置"></a>使用注解配置</h3><pre><code class="java">package com.xm.demo.soundsystem;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)
public class AppTest {
    @Autowired
    private CompactDisc compactDisc1;//对应xml文件的compactDisc1

    @Autowired
    private CompactDisc compactDisc2;//对应xml文件的compactDisc2

    @Autowired
    @Qualifier(&quot;compactDisc2&quot;)
    private CompactDisc compactDisc3;

    @Test
    public void test01(){
        compactDisc1.play();
        compactDisc2.play();
        //构造方法不会有第三遍执行，compactDisc3使用的是2的实例，所以它们的地址相同
        compactDisc3.play();
    }
}</code></pre>
<h3 id="id和name属性"><a href="#id和name属性" class="headerlink" title="id和name属性"></a>id和name属性</h3><p>在xml的bean配置中，id和name属性的作用是一样的，相当于变量名，但是name可以为一个bean取多个别名，不同别名之间使用 <strong>;</strong>，<strong>,</strong>，<strong>空格</strong>隔开，另外，name可以有特殊字符</p>
<pre><code class="xml">&lt;bean name=&quot;compactDisc1 compactDisc1-2 compactDisc1-3&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;/&gt;</code></pre>
<h3 id="构造方法的依赖注入"><a href="#构造方法的依赖注入" class="headerlink" title="构造方法的依赖注入"></a>构造方法的依赖注入</h3><p>两种方式：</p>
<ol>
<li>通过添加<code>constructor-arg</code>属性指定构造函数的依赖项<pre><code class="xml">&lt;bean id=&quot;cdPlayer&quot; class=&quot;com.xm.demo.soundsystem.CDPlayer&quot;&gt;
 &lt;!--构造函数注入，铜鼓ref指定具体注入的对象--&gt;
 &lt;constructor-arg ref=&quot;compactDisc1&quot;/&gt;
&lt;/bean&gt;</code></pre>
</li>
<li>使用c名称空间注入  </li>
</ol>
<p>需要在xml文件的顶部先引入c名称空间</p>
<blockquote>
<p>xmlns:c=”<a href="http://www.springframework.org/schema/c&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/c&quot;</a>  </p>
</blockquote>
<p>之后可以使用如下配置：</p>
<pre><code class="xml">&lt;bean id=&quot;cdPlayer2&quot; class=&quot;com.xm.demo.soundsystem.CDPlayer&quot; c:cd-ref=&quot;compactDisc2&quot;&gt;&lt;/bean&gt;</code></pre>
<p>参数说明：参数格式可以有两种</p>
<ul>
<li>c:构造函数参数名-ref=”注入类id”</li>
<li>c:_0-ref=”注入类id“<blockquote>
<p>_0表示第一个参数，第二个参数为_1,以此类推  </p>
</blockquote>
</li>
</ul>
<h3 id="简单类型注入"><a href="#简单类型注入" class="headerlink" title="简单类型注入"></a>简单类型注入</h3><p>对于类中的简单类型属性，可以通过在xml的构造函数注入中使用value进行值的注入,有一下几种注入方法，如果没有提供参数，默认按照构造函数的参数排列进行赋值</p>
<pre><code class="xml"> &lt;bean name=&quot;compactDisc1 compactDisc1-2 compactDisc1-3&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg value=&quot;xiaoming1&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;compactDisc2&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg index=&quot;0&quot; value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg index=&quot;1&quot; value=&quot;xiaoming2&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;compactDisc3&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg name=&quot;title&quot; value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg name=&quot;artist&quot; value=&quot;xixoming3&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;compactDisc4&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;xiaoming4&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;compactDisc5&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;
    c:title=&quot;I Do&quot;
    c:artist=&quot;xiaoming5&quot;/&gt;</code></pre>
<h3 id="List类型注入"><a href="#List类型注入" class="headerlink" title="List类型注入"></a>List类型注入</h3><ol>
<li>若List中的元素是简单类型，可以使用如下配置<pre><code class="xml">&lt;bean id=&quot;compactDisc3&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
 &lt;constructor-arg name=&quot;title&quot; value=&quot;I Do&quot;/&gt;
 &lt;constructor-arg name=&quot;artist&quot; value=&quot;xixoming3&quot;/&gt;
 &lt;constructor-arg name=&quot;tracks&quot; &gt;
     &lt;list&gt;
         &lt;value&gt;Dream Possible&lt;/value&gt;
         &lt;value&gt;Opera2&lt;/value&gt;
         &lt;value&gt;Counting Start&lt;/value&gt;
     &lt;/list&gt;
 &lt;/constructor-arg&gt;
&lt;/bean&gt;</code></pre>
</li>
<li>若List中的元素是bean类型，则使用如下配置<pre><code class="xml">&lt;bean id=&quot;compactDisc6&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
 &lt;constructor-arg name=&quot;title&quot; value=&quot;I Do&quot;/&gt;
 &lt;constructor-arg name=&quot;artist&quot; value=&quot;xixoming3&quot;/&gt;
 &lt;constructor-arg name=&quot;tracks&quot; &gt;
     &lt;list&gt;
         &lt;ref bean=&quot;music1&quot;/&gt;
         &lt;ref bean=&quot;music2&quot;/&gt;
         &lt;ref bean=&quot;music3&quot;/&gt;
     &lt;/list&gt;
 &lt;/constructor-arg&gt;
&lt;/bean&gt;</code></pre>
</li>
</ol>
<h3 id="set类型注入"><a href="#set类型注入" class="headerlink" title="set类型注入"></a>set类型注入</h3><p>Spring中的set使用的是<code>LinkedHashSet</code>,能够保证按照顺序存储，在配置上只需要将xml中的list节点改为set即可</p>
<h3 id="map类型注入"><a href="#map类型注入" class="headerlink" title="map类型注入"></a>map类型注入</h3><pre><code class="xml">&lt;bean id=&quot;compactDisc6&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg name=&quot;title&quot; value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg name=&quot;artist&quot; value=&quot;xixoming3&quot;/&gt;
    &lt;constructor-arg name=&quot;tracks&quot; &gt;
        &lt;map&gt;
        &lt;!-- 如果值是普通类型，使用这种形式 --&gt;
        &lt;entry key=&quot;music1&quot; value=&quot;xxx&quot;/&gt;
        &lt;!-- 如果值是类对象 --&gt;
            &lt;entry key=&quot;music1&quot; value-ref=&quot;music1&quot;/&gt;
            &lt;entry key=&quot;music2&quot; value-ref=&quot;music2&quot;/&gt;
            &lt;entry key=&quot;music3&quot; value-ref=&quot;music3&quot;/&gt;
        &lt;/map&gt;
    &lt;/constructor-arg&gt;
&lt;/bean&gt;</code></pre>
<h3 id="数组类型注入"><a href="#数组类型注入" class="headerlink" title="数组类型注入"></a>数组类型注入</h3><pre><code class="xml">&lt;bean id=&quot;compactDisc6&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;constructor-arg name=&quot;title&quot; value=&quot;I Do&quot;/&gt;
    &lt;constructor-arg name=&quot;artist&quot; value=&quot;xixoming3&quot;/&gt;
    &lt;constructor-arg name=&quot;tracks&quot; &gt;
        &lt;array&gt;
            &lt;!-- 如果数组类型是普通类型 --&gt;
            &lt;value&gt;music1&lt;/value&gt;
            &lt;!-- 如果数组类型是类对象 --&gt;
            &lt;ref bean=&quot;music1&quot;/&gt;
            &lt;ref bean=&quot;music2&quot;/&gt;
            &lt;ref bean=&quot;music3&quot;/&gt;
        &lt;/array&gt;
    &lt;/constructor-arg&gt;
&lt;/bean&gt;</code></pre>
<h3 id="Peoperty类型注入"><a href="#Peoperty类型注入" class="headerlink" title="Peoperty类型注入"></a>Peoperty类型注入</h3><pre><code class="xml">&lt;property name=&quot;properties&quot;&gt;
    &lt;props&gt;
        &lt;prop key=&quot;username&quot;&gt;root&lt;/prop&gt;
        &lt;prop key=&quot;password&quot;&gt;root&lt;/prop&gt;
    &lt;/props&gt;
&lt;/property&gt;</code></pre>
<h3 id="属性注入"><a href="#属性注入" class="headerlink" title="属性注入"></a>属性注入</h3><p>通过xml对类的setter方法进行属性注入。<br>属性指的是set名方法其后面的内容，而成员变量指的是类中定义的内部变量，例如：对成员变量的set方法setAge1，此时age是成员变量，age1是属性，xml中配置的name与<strong>属性</strong>相对应</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

    &lt;!-- 配置属性注入 --&gt;
    &lt;bean id=&quot;music1&quot; class=&quot;com.xm.demo.soundsystem.Music&quot;&gt;
        &lt;property name=&quot;title&quot; value=&quot;两只老虎&quot;/&gt;
        &lt;property name=&quot;duration&quot; value=&quot;100秒&quot;/&gt;
    &lt;/bean&gt;

    &lt;bean id=&quot;music2&quot; class=&quot;com.xm.demo.soundsystem.Music&quot;&gt;
        &lt;property name=&quot;title&quot; value=&quot;澎湖湾&quot;/&gt;
        &lt;property name=&quot;duration&quot; value=&quot;200秒&quot;/&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</code></pre>
<p>属性中若包含数组或列表，则与上面所说的注入方式相同</p>
<pre><code class="xml">&lt;bean id=&quot;compactDisc1&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;&gt;
    &lt;property name=&quot;title&quot; value=&quot;music1&quot;/&gt;
    &lt;property name=&quot;artist&quot; value=&quot;xiaoming&quot;/&gt;
    &lt;property name=&quot;tracks&quot;&gt;
        &lt;array&gt;
            &lt;ref bean=&quot;music1&quot;/&gt;
            &lt;ref bean=&quot;music2&quot;/&gt;
        &lt;/array&gt;
    &lt;/property&gt;
&lt;/bean&gt;</code></pre>
<p>若包含对象：</p>
<pre><code class="xml">&lt;bean id=&quot;CDPlayer1&quot; class=&quot;com.xm.demo.soundsystem.CDPlayer&quot;&gt;
    &lt;property name=&quot;cd&quot; ref=&quot;compactDisc1&quot;/&gt;
&lt;/bean&gt;</code></pre>
<h3 id="p名称空间"><a href="#p名称空间" class="headerlink" title="p名称空间"></a>p名称空间</h3><p>用于代替属性的注入，但是不能代替数组，列表等类型，只能代替普通类型和对象类型，主要用于jdbc配置数据源</p>
<p>首先需要在xml文件的头部加入命名空间</p>
<blockquote>
<p>xmlns:p=”<a href="http://www.springframework.org/schema/p&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/p&quot;</a></p>
</blockquote>
<p>格式上，若是普通类型</p>
<pre><code class="xml">&lt;bean id=&quot;music2&quot; class=&quot;com.xm.demo.soundsystem.Music&quot;
        p:title=&quot;澎湖湾&quot;
        p:duration=&quot;200秒&quot;/&gt;</code></pre>
<p>若是对象</p>
<pre><code class="xml">&lt;bean id=&quot;CDPlayer1&quot; class=&quot;com.xm.demo.soundsystem.CDPlayer&quot;
        p:cd-ref=&quot;compactDisc1&quot;/&gt;</code></pre>
<h3 id="spel注入"><a href="#spel注入" class="headerlink" title="spel注入"></a>spel注入</h3><p>springEL表达式注入</p>
<pre><code class="xml">&lt;bean id=&quot;numberGuess&quot; class=&quot;org.spring.samples.NumberGuess&quot;&gt;
    &lt;property name=&quot;randomNumber&quot; value=&quot;#{ T(java.lang.Math).random() * 100.0 }&quot;/&gt;

    &lt;!-- other properties --&gt;
&lt;/bean&gt;
&lt;bean id=&quot;taxCalculator&quot; class=&quot;org.spring.samples.TaxCalculator&quot;&gt;
    &lt;property name=&quot;defaultLocale&quot; value=&quot;#{ systemProperties[&#39;user.region&#39;] }&quot;/&gt;

    &lt;!-- other properties --&gt;
&lt;/bean&gt;</code></pre>
<h3 id="util名称空间"><a href="#util名称空间" class="headerlink" title="util名称空间"></a>util名称空间</h3><p>可以用于数组，集合的注入<br>首先导入命名空间（idea自动导入）</p>
<pre><code class="xml">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;
       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;</code></pre>
<p>使用方法:list即包括数组，也包括列表，除此之外，util还有set,map等方法</p>
<pre><code class="xml">&lt;util:list id=&quot;trackList&quot;&gt;
    &lt;ref bean=&quot;music1&quot;/&gt;
    &lt;ref bean=&quot;music2&quot;/&gt;
&lt;/util:list&gt;
&lt;bean id=&quot;compactDisc1&quot; class=&quot;com.xm.demo.soundsystem.CompactDisc&quot;
        p:title=&quot;music1&quot;
        p:artist=&quot;xiaoming&quot;
        p:tracks-ref=&quot;trackList&quot;&gt;
&lt;/bean&gt;</code></pre>
<h1 id="bean的作用域"><a href="#bean的作用域" class="headerlink" title="bean的作用域"></a>bean的作用域</h1><p>默认情况下，bean都是单例的</p>
<ul>
<li>无论是否去主动获取或注入bean对象，String上下文一加载就会创建bean对象</li>
<li>无论注入多少次，拿到的都是同一个对象</li>
</ul>
<p>可以修改bean的作用域，在xml中，bean有一个名为<code>scope</code>的属性，其值可以为一下四个：</p>
<ul>
<li><strong>单例（Sinleton）</strong>：在整个应用程序中，只创建bean的一个实例</li>
<li><strong>原型（ProtoType）</strong>：每次注入或通过spring上下文获取的时候，都会创建一个新的bean实例,当第一次加载的时候不会创建bean对象</li>
<li><strong>会话（Session）</strong>：在web应用中，为每个会话创建一个bean实例</li>
<li><strong>请求（Request）</strong>：在web应用中，为每个请求创建一个bean实例</li>
</ul>
<p>更改作用域的几种方式：</p>
<ol>
<li>xml文件在bean元素中添加<code>scope</code>属性<pre><code class="xml">&lt;bean id=&quot;notepad&quot; class=&quot;com.xm.demo.NotePad&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;</code></pre>
</li>
<li>使用<code>@scope</code>注解</li>
</ol>
<blockquote>
<p>@Scope(“prototype”)</p>
</blockquote>
<blockquote>
<p>@Scope(scopeName = “prototype”)</p>
</blockquote>
<blockquote>
<p>@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</p>
</blockquote>
<ol start="3">
<li><p>使用javaconfig配置</p>
<pre><code class="java">@Configuration
public class AppConfig {

 @Bean
 @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)
 public Notepad3 notepad3(){
     return new Notepad3();
 }
}
</code></pre>
</li>
</ol>
<p>@RunWith(SpringJUnit4ClassRunner.class)<br>@ContextConfiguration(classes = AppConfig.class)<br>public class Notepad3Test {</p>
<pre><code>@Autowired
private Notepad3 notePad1;
@Autowired
private Notepad3 notePad2;

@Test
public void test01(){
    System.out.println(notePad1==notePad2);
}</code></pre><p>}</p>
<pre><code>
# 延迟加载  

当bean的作用域是单例时，默认是上下文初始化的时候就初始化了，可以配置其延迟加载，当需要用到的时候再自动加载该bean对象；
当bean的作用域是prototype时，在获取对象时才创建bean对象

```xml
&lt;bean id=&quot;notepad&quot; class=&quot;com.xm.demo.NotePad&quot; scope=&quot;prototype&quot; lazy-init=&quot;true&quot;&gt;&lt;/bean&gt;</code></pre><p>或者使用 <strong>@Lazy</strong>修饰</p>
<h1 id="对象的销毁和初始化"><a href="#对象的销毁和初始化" class="headerlink" title="对象的销毁和初始化"></a>对象的销毁和初始化</h1><pre><code class="xml">&lt;bean id=&quot;notepad&quot; class=&quot;com.xm.demo.NotePad&quot;
    destroy-method=&quot;destroy&quot;
    init-method=&quot;init&quot;/&gt;</code></pre>
<pre><code class="java">public void test01(){
    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
    NotePad notepad1 = (NotePad)context.getBean(&quot;notepad&quot;);
    context.destroy();//主动调用销毁方法
    context.close();//关闭容器，会自动触发销毁方法
}</code></pre>
<p>也可以使用注解修饰初始化和注销方法，需要先引入依赖</p>
<pre><code class="xml"> &lt;dependency&gt;
    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;
    &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<pre><code class="java">@PostConstruct
public void init(){
    System.out.println(&quot;Notepad的初始化方法&quot;);
}

@PreDestroy
public void destroy(){
    System.out.println(&quot;Notepad的销毁方法&quot;);
}</code></pre>
<h1 id="Spring中工厂方法创建bean对象"><a href="#Spring中工厂方法创建bean对象" class="headerlink" title="Spring中工厂方法创建bean对象"></a>Spring中工厂方法创建bean对象</h1><pre><code class="xml">&lt;!--静态工厂的方法 static方法--&gt;
&lt;bean id=&quot;person1&quot; class=&quot;com.xm.demo.PersonFactory&quot; factory-method=&quot;createPerson1&quot;/&gt;

&lt;!--实例工厂的方法 非static方法--&gt;
&lt;bean id=&quot;personFactory&quot; class=&quot;com.xm.demo.PersonFactory&quot;/&gt;
&lt;bean id=&quot;person2&quot; factory-bean=&quot;personFactory&quot; factory-method=&quot;createPerson2&quot;/&gt;</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/05/06/SpringIOC/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/05/06/SpringIOC/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/05/11/SpringAop/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/05/02/Redis%E6%8C%81%E4%B9%85%E5%8C%96/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
