<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            设计模式 | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="单例设计模式只能有一个对象实例，通过私有化构造方法，并在类里创建一个静态对象实现,常用于工具类，节省重复创建对象，提高效率

通过构造方法私有化+静态方法 代替单例设计模式模式：占用内存多
">
    <meta name="keywords" content=",java">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="设计模式 | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="单例设计模式只能有一个对象实例，通过私有化构造方法，并在类里创建一个静态对象实现,常用于工具类，节省重复创建对象，提高效率

通过构造方法私有化+静态方法 代替单例设计模式模式：占用内存多
">
    <meta property="og:article:tag" content="java"> 

    
        <meta property="article:published_time" content="Thu Jan 10 2019 14:54:37 GMT+0800">
        <meta property="article:modified_time" content="Tue Dec 01 2020 18:35:21 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html",
    "headline": "设计模式",
    "datePublished": "Thu Jan 10 2019 14:54:37 GMT+0800",
    "dateModified": "Tue Dec 01 2020 18:35:21 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",java",
    "description": "单例设计模式只能有一个对象实例，通过私有化构造方法，并在类里创建一个静态对象实现,常用于工具类，节省重复创建对象，提高效率

通过构造方法私有化+静态方法 代替单例设计模式模式：占用内存多
",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#单例设计模式"><span class="post-toc-number">1.</span> <span class="post-toc-text">单例设计模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#单例设计模式优化"><span class="post-toc-number">2.</span> <span class="post-toc-text">单例设计模式优化</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#模板方法设计模式"><span class="post-toc-number">3.</span> <span class="post-toc-text">模板方法设计模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#策略模式"><span class="post-toc-number">4.</span> <span class="post-toc-text">策略模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#简单工厂模式"><span class="post-toc-number">5.</span> <span class="post-toc-text">简单工厂模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#静态代理模式"><span class="post-toc-number">6.</span> <span class="post-toc-text">静态代理模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#动态代理模式"><span class="post-toc-number">7.</span> <span class="post-toc-text">动态代理模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#适配器模式"><span class="post-toc-number">8.</span> <span class="post-toc-text">适配器模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#装饰者模式"><span class="post-toc-number">9.</span> <span class="post-toc-text">装饰者模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#观察者设计模式"><span class="post-toc-number">10.</span> <span class="post-toc-text">观察者设计模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#dao设计模式"><span class="post-toc-number">11.</span> <span class="post-toc-text">dao设计模式</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                设计模式
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>1月 10, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/java/" rel="tag">java</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=设计模式&url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=设计模式&url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html&title=设计模式" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=设计模式&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html&text=设计模式" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h1><p>只能有一个对象实例，通过私有化构造方法，并在类里创建一个静态对象实现,常用于工具类，节省重复创建对象，提高效率</p>
<blockquote>
<p>通过构造方法私有化+静态方法 代替单例设计模式模式：占用内存多</p>
</blockquote>
<a id="more"></a>
<pre><code class="java">//单例设计模式
public class Test3{
    public static void main(String[] args){
        Singleton1 s1 = Singleton1.getInstance();
        Singleton2 s2 = Singleton2.getInstance();
        s1.print();
        s2.print();
    }
}

//懒汉式
//占用内存时间短，但效率较低（延迟加载）
class Singleton1{
    private Singleton1(){};//私有化构造方法，外部无法创建对象
    private static Singleton1 s1;
    public static Singleton1 getInstance(){
        if(s1 == null){
            s1 = new Singleton1();
        }
        return s1;
    }
    public void print(){
        System.out.println(&quot;懒汉式测试方法&quot;);
    }
}

//饿汉式
//占用内存时间长，但效率高
class Singleton2{
    private Singleton2(){};
    private static Singleton2 s2 = new Singleton2();
    public static Singleton2 getInstance(){
        return s2;
    }
    public void print(){
        System.out.println(&quot;饿汉式测试方法&quot;);
    }
}</code></pre>
<h1 id="单例设计模式优化"><a href="#单例设计模式优化" class="headerlink" title="单例设计模式优化"></a>单例设计模式优化</h1><pre><code class="java">//1.实现Serializable接口，允许序列化，方便还原单例状态
public class Singleton implements Serializable {
    private volidate static Singleton singleton = null;//使用volidate标记，每次取值从地址中取值，确保数据一致
    private Singleton(){
        if(singleton != null){
            //防止反射调用私有化构造方法
            throw new RuntimeException(&quot;此类对象为单例模式，已经被实例化&quot;);
        }
    }
    public static Singleton getSingleton(){
        if(singleton == null){
            //多线程访问安全，使用两次判断，防止第一次判断完就中断，没有加锁
            synchronized (Singleton.class){
                if(singleton == null){
                    singleton = new Singleton();
                }
            }
        }
    }
}</code></pre>
<h1 id="模板方法设计模式"><a href="#模板方法设计模式" class="headerlink" title="模板方法设计模式"></a>模板方法设计模式</h1><p>定义一个操作中的算法骨架，而将一些可变部分的实现延迟到子类中，模板方法使得子类可以不改变一个算法的结构即可重新定义该算法的某些步骤</p>
<pre><code class="java">public class Test8{
    public static void main(String[] args) {
        UserManager us = new UserManager();
        us.action(&quot;admin&quot;,&quot;add&quot;);
        us.action(&quot;test&quot;,&quot;del&quot;);
    }
}

abstract class BaseManager{
    public void action(String name,String method){
        if(&quot;admin&quot;.equals(name)){
            excute(method);
        }else{
            System.out.println(&quot;需要管理员权限&quot;);
        }
    }
    public abstract void excute(String method);
}


class UserManager extends BaseManager{
    public void excute(String method){
        //只实现具体的操作方法，验证层面在父类抽象类中
        if(&quot;add&quot;.equals(method)){
            System.out.println(&quot;执行了添加操作&quot;);
        }else if(&quot;del&quot;.equals(method)){
            System.out.println(&quot;执行了删除操作&quot;);
        }
    }
}</code></pre>
<h1 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h1><p>定义一系列算法，将每一种算法封装起来并可以相互替换使用，策略模式让算法独立于使用它的客户应用而独立变化</p>
<pre><code class="java">public class Test9{
    public static void main(String[] args) {
        BaseService bs = new UserService();
        bs.setISave(new NetSave());//类实现借口，任然可以认为类型属于该接口
        bs.add(&quot;user&quot;);
    }
}

//定义一个接口
interface ISave{
    public void save(String data);
}

//对于不同的需求有不同的策略去实现
class FileSava implements ISave{
    public void save(String data){
        System.out.println(&quot;把数据存到文件中&quot;+data);
    }
}

class NetSave implements ISave{
    public void save(String data){
        System.out.println(&quot;把数据存到网络上&quot;+data);
    }
}

//定义一个抽象类用于不同的对象统一通过此处调用不同方法
abstract class BaseService{
    private ISave iSave;
    public void setISave(ISave iSave){
        this.iSave = iSave;
    }
    public void add(String data){
        iSave.save(data);
    }
}

class UserService extends BaseService{

}</code></pre>
<h1 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h1><p>由一个工厂对象决定创建出哪一种产品类的实例</p>
<pre><code class="java">public class Test10{
    public static void main(String[] args){
        //使用工厂模式降低耦合度，方便后期修改
        Product phone = ProductFactory.getProduct(&quot;phone&quot;);
        if(null!=phone){
            phone.work();
        }
    }
}

class ProductFactory{
    public static Product getProduct(String name){
        if(&quot;phone&quot;.equals(name)){
            return new Phone();
        }else if(&quot;computer&quot;.equals(name)){
            return new Computer();
        }else{
            return  null;
        }
    }
}

interface Product{
    public void work();
}

class Phone implements Product{
    public void work(){
        System.out.println(&quot;Phone is working...&quot;);
    }
}

class Computer implements Product{
    public void work(){
        System.out.println(&quot;Computer is working...&quot;);
    }
}</code></pre>
<h1 id="静态代理模式"><a href="#静态代理模式" class="headerlink" title="静态代理模式"></a>静态代理模式</h1><p>为其他对象提供一种代理以控制对这个对象的访问，在访问对象时引入一定程度的间接性，以附加多种用途</p>
<pre><code class="java">public class Test11{
    public static void main(String[] args){
        IAction user = new UserAction();
        ActionProxy proxy = new ActionProxy(user);
        proxy.doAction();
    }
}

//代理
class ActionProxy implements IAction{
    private IAction target;//被代理的对象
    public ActionProxy(IAction target){
        this.target = target;
    }
    //执行操作
    public void doAction(){
        long startTime = System.currentTimeMillis();
        target.doAction();//执行真正的业务
        System.out.println(&quot;当前时间为：&quot;+startTime);
    }
}

interface IAction{
    public void doAction();
}

class UserAction implements IAction{
    public void doAction(){
        System.out.println(&quot;开始工作了。。。&quot;);
    }
}</code></pre>
<h1 id="动态代理模式"><a href="#动态代理模式" class="headerlink" title="动态代理模式"></a>动态代理模式</h1><pre><code class="java">/**
 * 接口
 */
interface Subject {
    public void shopping();
}

public class Person implements Subject{

    @Override
    public void shopping() {
        System.out.println(&quot;付款，买到心心念念的MacBook&quot;);
    }
}
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

public class CreateProxy implements InvocationHandler {
    private Object target;//被代理的对象

    //用于创建代理对象的方法
    public Object create(Object target){
        this.target = target;
        Object proxy = (Object) Proxy.newProxyInstance(target.getClass().getClassLoader(),
                target.getClass().getInterfaces(),this);
        return proxy;
    }

    /**
     *
     * @param proxy 代理类对象
     * @param method 被代理对象的方法
     * @param args 方法的参数
     * @return
     * @throws Throwable
     */
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(&quot;接项目做赚钱&quot;);
        System.out.println(&quot;上网上买&quot;);
        method.invoke(target,args);
        System.out.println(&quot;梦想成真&quot;);
        return null;
    }
}

public class ProxyTest {
    public static void main(String[] args) {
        CreateProxy cp = new CreateProxy();
        Subject person = new Person();
        Subject proxy  = (Subject) cp.create(person);
        proxy.shopping();//会调用invoke方法
    }
}</code></pre>
<h1 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h1><p>将一个类的接口转换成客户希望的另一个接口，用于使原来由于接口不兼容而不能一起工作的那些类可以一起工作</p>
<pre><code class="java">public class Test12{
    public static void main(String[] args){

        Animal dog = new Dog();
        dog.run();

        PowerA powerA = new PowerAImpl();
        PowerB powerB = new PowerBImpl();
        Adapter adapter = new Adapter(powerB);
        work(powerA);
        //work(powerB);若这样传则报错
        work(adapter);
    }
    public static void work(PowerA a){
        a.insert();
    }
}

/*第一种适配器*/
interface Animal{
    public void sing();
    public void cry();
    public void run();
    public void swim();
}

//适配器，当只需要实现一个方法的时候，避免子类多次重复空实现
abstract class AnimalFunction implements Animal{
    public void sing(){};
    public void cry(){};
    public void run(){};
    public void swim(){};
}

class Dog extends AnimalFunction{
    public void run(){
        System.out.println(&quot;the dog is running&quot;);
    }
}

/*第二种适配器*/
interface PowerA{
    public void insert();
}

class PowerAImpl implements PowerA{
    public void insert(){
        System.out.println(&quot;电源A开始工作&quot;);
    }
}
interface PowerB{
    public void insert();
}

class Adapter implements PowerA{
    private PowerB powerB;
    public Adapter(PowerB powerB){
        this.powerB = powerB;
    }
    public void insert(){
        powerB.insert();
    }
}
class PowerBImpl implements PowerB{
    public void insert(){
        System.out.println(&quot;电源B开始工作&quot;);
    }
}</code></pre>
<h1 id="装饰者模式"><a href="#装饰者模式" class="headerlink" title="装饰者模式"></a>装饰者模式</h1><p>动态的给一个对象添加一些额外的职责,适用于子类过多,不能通过生成子类的方式进行扩充时  </p>
<pre><code class="java">/**
 * Drink.java
**/
package decorator;

//被装饰者的基类(接口)
public interface Drink {
    float cost();//计算价格
    String description();//描述
}

/**
 * SoyaBeanMilk.java
 **/
package decorator;
//具体的被装饰者的类
public class SoyaBeanMilk implements Drink{


    @Override
    public float cost() {
        return 3;
    }

    @Override
    public String description() {
        return &quot;纯豆浆&quot;;
    }

}

/**
 * Decorator.java
 **/
package decorator;

//装饰者的基类
public class Decorator implements Drink{

    private Drink drink;//要装饰的对象

    public Decorator(Drink drink) {
        this.drink = drink;
    }
    @Override
    public float cost() {
        return drink.cost();
    }

    @Override
    public String description() {
        return drink.description();
    }

}

/**
 * SugarDecorator.java
 **/
package decorator;

//具体的装饰类1
public class SugarDecorator extends Decorator{

    public SugarDecorator(Drink drink) {
        super(drink);
    }
    @Override
    public float cost() {
        return super.cost()+1.0f;
    }

    @Override
    public String description() {
        return super.description()+&quot;+ 糖&quot;;
    }
}

//具体的装饰类2
public class EggDecorator extends Decorator{

    public EggDecorator(Drink drink) {
        super(drink);
    }
    @Override
    public float cost() {
        return super.cost()+2.0f;
    }

    @Override
    public String description() {
        return super.description()+&quot;+ 蛋&quot;;
    }
}

//具体的装饰类3
public class BlackBeanDecorator extends Decorator{

    public BlackBeanDecorator(Drink drink) {
        super(drink);
    }
    @Override
    public float cost() {
        return super.cost()+2.0f;
    }

    @Override
    public String description() {
        return super.description()+&quot;+ 黑豆&quot;;
    }
}

/**
 * Test.java
 **/
package decorator;

public class Test {

    public static void main(String[] args) {

        Drink drink = new SoyaBeanMilk();
        SugarDecorator sugar = new SugarDecorator(drink);
        EggDecorator egg = new EggDecorator(sugar);
        BlackBeanDecorator blackBean = new BlackBeanDecorator(egg);

        System.out.println(&quot;你点的内容是:&quot; + blackBean.description());
        System.out.println(&quot;总价:&quot;+blackBean.cost()+&quot;元&quot;);
    }
}
</code></pre>
<h1 id="观察者设计模式"><a href="#观察者设计模式" class="headerlink" title="观察者设计模式"></a>观察者设计模式</h1><pre><code class="java">package abserver;

/**
 * 被观察者接口
 */
public interface MessageSubject {
    //注册观察者
    public void registerObserver(Observer o);
    //移除观察者
    public void removeObserver(Observer o);
    //通知所有观察者
    public void notifyObsevers();
}

/**
 * 观察者接口
 */
public interface Observer {
    //更新消息
    public void update(String Message);
}

import java.util.ArrayList;
import java.util.List;

/**
 * 具体的被观察者
 */
public class Message implements MessageSubject{
    //维护的观察者列表
    private List&lt;Observer&gt; list = new ArrayList&lt;&gt;();
    //通知的消息
    private String message;

    public void setMessage(String message) {
        this.message = message;
        notifyObsevers();
    }

    @Override
    public void registerObserver(Observer o) {
        list.add(o);
    }

    @Override
    public void removeObserver(Observer o) {
        list.remove(o);
    }

    @Override
    public void notifyObsevers() {
        for (int i = 0; i &lt; list.size(); i++) {
            Observer observer = list.get(i);
            observer.update(message);
        }
    }
}
/**
 * 具体的观察者
 */
public class User implements Observer{
    private String name;

    public User(String name){
        this.name = name;
    }

    @Override
    public void update(String Message) {
        System.out.println(&quot;[&quot;+name+&quot;]&quot;+&quot;收到消息&quot;);
    }
}

//测试 
public class TestObserver {
    public static void main(String[] args) {
        Message message = new Message();

        Observer user1 = new User(&quot;Tom&quot;);
        Observer user2 = new User(&quot;Jack&quot;);
        Observer user3 = new User(&quot;Monkey&quot;);

        message.registerObserver(user1);
        message.registerObserver(user2);
        message.registerObserver(user3);

        message.setMessage(&quot;hello world&quot;);
        message.removeObserver(user1);
        message.setMessage(&quot;see you again&quot;);
    }
}</code></pre>
<h1 id="dao设计模式"><a href="#dao设计模式" class="headerlink" title="dao设计模式"></a>dao设计模式</h1><p>DAO指的是Database Access Object，将数据库操作分为：</p>
<ul>
<li><code>DAO接口</code></li>
<li><code>DAO接口实现类</code></li>
<li><code>实体类</code>：对应表中数据</li>
<li><code>工具类</code>：实现数据库的具体操作 </li>
</ul>
<p>文件命名规范：</p>
<ol>
<li>DAO接口类写在<code>com.xx.dao</code>包中</li>
<li>接口实现类写在<code>com.xx.dao.impl</code>包中</li>
<li>实体类写在<code>com.xx.beans</code>包中</li>
<li>工具类写在<code>com.xx.util</code>包中</li>
</ol>
<p>数据库配置文件：</p>
<pre><code>driver = com.mysql.jdbc.Driver
url = jdbc:mysql://127.0.0.1:3306/blog?useSSL=false
user = root
password = xxx</code></pre><p>实体类：</p>
<pre><code class="java">package com.xm.beans;

import java.io.Serializable;

public class Student implements Serializable {
    private static final long serialVersionUID = -6861593743646559474L;
    private int id;
    private String stuName;
    private int age;
    private String course;
    private int score;

    public Student() {
    }

    public Student(int id, String stuName, int age, String course, int score) {
        this.id = id;
        this.stuName = stuName;
        this.age = age;
        this.course = course;
        this.score = score;
    }

    public static long getSerialVersionUID() {
        return serialVersionUID;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getStuName() {
        return stuName;
    }

    public void setStuName(String stuName) {
        this.stuName = stuName;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getCourse() {
        return course;
    }

    public void setCourse(String course) {
        this.course = course;
    }

    public int getScore() {
        return score;
    }

    public void setScore(int score) {
        this.score = score;
    }

    @Override
    public String toString() {
        return &quot;Student{&quot; +
                &quot;id=&quot; + id +
                &quot;, stuName=&#39;&quot; + stuName + &#39;\&#39;&#39; +
                &quot;, age=&quot; + age +
                &quot;, course=&#39;&quot; + course + &#39;\&#39;&#39; +
                &quot;, score=&quot; + score +
                &#39;}&#39;;
    }
}</code></pre>
<p>工具类：</p>
<pre><code class="java">package hellojdbc.com.xm.util;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.sql.*;
import java.util.Properties;

/**
 * 封装MySQL操作工具类
 * 1. 注册驱动
 * 2. 获取连接
 * 3. 关闭连接
 * 4. 执行命令
 */
public class DbUtiles {
    //驱动名称
    private static String driver;
    //连接字符串
    private static String url;
    //用户名
    private static String userName;
    //密码
    private static String password;

    static {

        Properties properties = new Properties();
        //一种加载方法
        try {
            FileInputStream fis = new FileInputStream(&quot;src/database.properties&quot;);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }
        //推荐使用这种方式，加载的是放在编译后.class文件夹中的properties文件
        InputStream is = DbUtiles.class.getClassLoader().getResourceAsStream(&quot;database.properties&quot;);

        try {
            properties.load(is);
            is.close();
            driver = properties.getProperty(&quot;driver&quot;);
            url = properties.getProperty(&quot;url&quot;);
            userName = properties.getProperty(&quot;user&quot;);
            password = properties.getProperty(&quot;password&quot;);
        } catch (IOException e) {
            e.printStackTrace();
        }
        //注册驱动
        try {
            Class.forName(driver);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }

    //获取连接
    public static Connection getConnection(){
        try {
            return DriverManager.getConnection(url, userName, password);
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return null;
    }

    //关闭连接
    public static void closeAll(Connection connection, Statement statement,ResultSet resultSet){
        if(resultSet!=null){
            try {
                resultSet.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        if(statement!=null){
            try{
                statement.close();
            }catch (SQLException e){
                e.printStackTrace();
            }
        }
        if(connection!=null){
            try {
                connection.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }

    //执行命令（DML）,需要使用可变长度数组作为参数，可以执行增删改
    public static int executeUpdate(String sql,Object...objects){
        Connection connection = null;
        PreparedStatement preparedStatement = null;
        connection = getConnection();
        try {
            preparedStatement = connection.prepareStatement(sql);
            for(int i=0;i&lt;objects.length;i++){
                preparedStatement.setObject(i+1,objects[i]);
            }
            int result = preparedStatement.executeUpdate();
            closeAll(connection,preparedStatement,null);
            return result;
        } catch (SQLException e) {
            e.printStackTrace();
            return 0;
        }
    }
}</code></pre>
<p>接口类：</p>
<pre><code class="java">package hellojdbc.com.xm.dao;

import com.xm.beans.Student;

import java.util.List;

public interface StudentDao {
    //查找所有
    List&lt;Student&gt; findAll();
    //查找指定
    Student findById(int id);
    //更新
    void update(Student student);
    //删除
    void delete(int id);
    //添加
    void add(Student student);
}</code></pre>
<p>接口实现类：</p>
<pre><code class="java">package com.xm.dao.impl;

import com.xm.beans.Student;
import hellojdbc.com.xm.dao.StudentDao;
import hellojdbc.com.xm.util.DbUtiles;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class StudentDaoImpl implements StudentDao {
    @Override
    public List&lt;Student&gt; findAll() {
        List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();
        Connection connection = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        connection = DbUtiles.getConnection();
        try {
            ps = connection.prepareStatement(&quot;select * from students&quot;);
            rs = ps.executeQuery();
            while (rs.next()){
                int id = rs.getInt(&quot;id&quot;);
                String stuName = rs.getString(&quot;stuName&quot;);
                int age = rs.getInt(&quot;age&quot;);
                String course = rs.getString(&quot;course&quot;);
                int score = rs.getInt(&quot;score&quot;);

                Student student = new Student(id,stuName,age,course,score);
                students.add(student);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }finally {
            DbUtiles.closeAll(connection,ps,rs);
        }
        return students;
    }

    @Override
    public Student findById(int id) {
        Connection conn = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        Student student = null;
        try {
            conn = DbUtiles.getConnection();
            ps = conn.prepareStatement(&quot;select * from students where id=&quot;+id);
            rs =  ps.executeQuery();
            if(rs.next()){
                String stuName = rs.getString(&quot;stuName&quot;);
                int age = rs.getInt(&quot;age&quot;);
                String course = rs.getString(&quot;course&quot;);
                int score = rs.getInt(&quot;score&quot;);
                student = new Student(id,stuName,age,course,score);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }finally {
            DbUtiles.closeAll(conn,ps,rs);
            return student;
        }
    }

    @Override
    public void update(Student student) {
        Object[] params = {student.getAge(),student.getScore(),student.getId()};
        DbUtiles.executeUpdate(&quot;update students set age=?,score=? where id=?&quot;,params);
    }

    @Override
    public void delete(int id) {
        DbUtiles.executeUpdate(&quot;delete from students where id=?&quot;,id);
    }

    @Override
    public void add(Student student) {
        Object[] params = {student.getId(),student.getStuName(),student.getAge(),student.getCourse(),student.getScore()};
        DbUtiles.executeUpdate(&quot;insert into students values (?,?,?,?,?)&quot;,params);
    }
}</code></pre>
<p>测试：</p>
<pre><code class="java">package hellojdbc;

import com.xm.beans.Student;
import com.xm.dao.impl.StudentDaoImpl;
import hellojdbc.com.xm.dao.StudentDao;

import java.util.List;
import java.util.Scanner;

public class DAOTest {
    public static void main(String[] args) {
        System.out.println(&quot;请选择操作：1查询 2添加 3更新 4删除&quot;);
        Scanner input = new Scanner(System.in);
        int choice = input.nextInt();
        StudentDao studentDao = new StudentDaoImpl();
        switch (choice){
            case 1:
                List&lt;Student&gt; students = studentDao.findAll();
                for(Student student:students){
                    System.out.println(student.toString());
                }
                break;
            case 2:
                System.out.println(&quot;请输入id&quot;);
                int id = input.nextInt();

                System.out.println(&quot;请输入姓名&quot;);
                String stuName = input.next();

                System.out.println(&quot;请输入年龄&quot;);
                int age = input.nextInt();

                System.out.println(&quot;请输入科目&quot;);
                String course = input.next();

                System.out.println(&quot;请输入分数&quot;);
                int score = input.nextInt();
                Student student = new Student(id,stuName,age,course,score);
                studentDao.add(student);
                System.out.println(&quot;添加成功！&quot;);
                break;
            case 3:
                System.out.println(&quot;要更新的编号：&quot;);
                int sid = input.nextInt();
                Student s = studentDao.findById(sid);
                if(s!=null){
                    System.out.println(&quot;输入分数&quot;);
                    int score1 = input.nextInt();
                    s.setScore(score1);
                    studentDao.update(s);
                    System.out.println(&quot;修改成功&quot;);
                }else{
                    System.out.println(&quot;没有此人&quot;);
                }
                break;
            case 4:
                System.out.println(&quot;请输入删除编号&quot;);
                int num = input.nextInt();
                studentDao.delete(num);
                System.out.println(&quot;删除成功&quot;);
                break;
            default:
                System.out.println(&quot;操作失误&quot;);
        }
    }
}   </code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/01/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/01/11/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/12/07/Java%E5%9F%BA%E7%A1%80/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
