<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Java文件与IO | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="File类代表计算机各个文件,目录的抽象表现形式,可以实现文件的创建,删除等
import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.Date;

public class FileDemo {
    public static void main(String[] args) {
        //File类表示一个文件或目录
        //指定在哪里创建
        //第一种使用方法
        File f1 = new File(&amp;quot;/home/xiaoming/音乐/java/vince.text&amp;quot;);
        //第二种使用方法,使用类中的常量separator表示斜杠
        File f2 = new File(File.separator+&amp;quot;home&amp;quot;
                +File.separator+&amp;quot;xiaoming&amp;quot;
                +File.separator+&amp;quot;音乐&amp;quot;+File.separator
                +&amp;quot;java&amp;quot;+File.separator+&amp;quot;tey.text&amp;quot;);
        //判断文件是否已经存在
        if(!f1.exists()) {
            try {
                f1.createNewFile();//创建文件
                System.out.println(&amp;quot;文件创建成功&amp;quot;);
            } catch (IOException e) {
                // 基本上IO操作都报这个错误
                e.printStackTrace();
            }
        }
        //判断对象是否是文件
        System.out.println(f1.isFile());
        //判断该对象是否为文件夹
        System.out.println(f1.isDirectory());

        //删除文件夹(前提文件夹里无文件)
        File f3 = new File(&amp;quot;/home/xiaoming/音乐/java&amp;quot;);
        boolean b = f3.delete();
        System.out.println(b);

        //列出所有文件名,若是文件夹,则列出文件夹名
        String[] name = f3.list();
        System.out.println(Arrays.toString(name));

        //列出当前目录下的所有文件,以file对象返回
        File[] f4 = f3.listFiles();
        for(File f:f4) {
            System.out.println(f.length());
            System.out.println(f.getName());
            System.out.println(f.getPath());//相对路径
            System.out.println(f.getAbsolutePath());//绝对路径
            System.out.println(f.isHidden());//是否隐藏文件
            System.out.println(f.canRead());
            Date date = new Date(f.lastModified());//最后修改时间
            DateFormat df = new SimpleDateFormat(&amp;quot;HH:mm:ss&amp;quot;);
            System.out.println(df.format(date));
        }

        //创建文件夹
        File f5 = new File(&amp;quot;/home/xiaoming/音乐/java1&amp;quot;);
        f5.mkdir();
        f5.mkdirs();//一次性创建所有指定文件夹

        //重命名与移动文件
        f5.renameTo(new File(&amp;quot;/home/xiaoming/音乐/Text1&amp;quot;));

        //过滤器
        File[] files = f5.listFiles(new FileFilter() {

            //从写此方法,用于查找出指定文件
            public boolean accept(File pathname) {
                return pathname.getName().endsWith(&amp;quot;.text&amp;quot;);
            }
        });
        //第二种写法
        File[] files_s  = f5.listFiles((pathname)-&amp;gt;pathname.getName().endsWith(&amp;quot;.text&amp;quot;));
        for(File f:files) {
            System.out.println(f.getName());
        }
    }
}">
    <meta name="keywords" content=",java">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Java文件与IO | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="File类代表计算机各个文件,目录的抽象表现形式,可以实现文件的创建,删除等
import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.Date;

public class FileDemo {
    public static void main(String[] args) {
        //File类表示一个文件或目录
        //指定在哪里创建
        //第一种使用方法
        File f1 = new File(&amp;quot;/home/xiaoming/音乐/java/vince.text&amp;quot;);
        //第二种使用方法,使用类中的常量separator表示斜杠
        File f2 = new File(File.separator+&amp;quot;home&amp;quot;
                +File.separator+&amp;quot;xiaoming&amp;quot;
                +File.separator+&amp;quot;音乐&amp;quot;+File.separator
                +&amp;quot;java&amp;quot;+File.separator+&amp;quot;tey.text&amp;quot;);
        //判断文件是否已经存在
        if(!f1.exists()) {
            try {
                f1.createNewFile();//创建文件
                System.out.println(&amp;quot;文件创建成功&amp;quot;);
            } catch (IOException e) {
                // 基本上IO操作都报这个错误
                e.printStackTrace();
            }
        }
        //判断对象是否是文件
        System.out.println(f1.isFile());
        //判断该对象是否为文件夹
        System.out.println(f1.isDirectory());

        //删除文件夹(前提文件夹里无文件)
        File f3 = new File(&amp;quot;/home/xiaoming/音乐/java&amp;quot;);
        boolean b = f3.delete();
        System.out.println(b);

        //列出所有文件名,若是文件夹,则列出文件夹名
        String[] name = f3.list();
        System.out.println(Arrays.toString(name));

        //列出当前目录下的所有文件,以file对象返回
        File[] f4 = f3.listFiles();
        for(File f:f4) {
            System.out.println(f.length());
            System.out.println(f.getName());
            System.out.println(f.getPath());//相对路径
            System.out.println(f.getAbsolutePath());//绝对路径
            System.out.println(f.isHidden());//是否隐藏文件
            System.out.println(f.canRead());
            Date date = new Date(f.lastModified());//最后修改时间
            DateFormat df = new SimpleDateFormat(&amp;quot;HH:mm:ss&amp;quot;);
            System.out.println(df.format(date));
        }

        //创建文件夹
        File f5 = new File(&amp;quot;/home/xiaoming/音乐/java1&amp;quot;);
        f5.mkdir();
        f5.mkdirs();//一次性创建所有指定文件夹

        //重命名与移动文件
        f5.renameTo(new File(&amp;quot;/home/xiaoming/音乐/Text1&amp;quot;));

        //过滤器
        File[] files = f5.listFiles(new FileFilter() {

            //从写此方法,用于查找出指定文件
            public boolean accept(File pathname) {
                return pathname.getName().endsWith(&amp;quot;.text&amp;quot;);
            }
        });
        //第二种写法
        File[] files_s  = f5.listFiles((pathname)-&amp;gt;pathname.getName().endsWith(&amp;quot;.text&amp;quot;));
        for(File f:files) {
            System.out.println(f.getName());
        }
    }
}">
    <meta property="og:article:tag" content="java"> 

    
        <meta property="article:published_time" content="Tue Jan 15 2019 17:20:29 GMT+0800">
        <meta property="article:modified_time" content="Tue Dec 01 2020 18:38:04 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html",
    "headline": "Java文件与IO",
    "datePublished": "Tue Jan 15 2019 17:20:29 GMT+0800",
    "dateModified": "Tue Dec 01 2020 18:38:04 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",java",
    "description": "File类代表计算机各个文件,目录的抽象表现形式,可以实现文件的创建,删除等
import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.Date;

public class FileDemo {
    public static void main(String[] args) {
        //File类表示一个文件或目录
        //指定在哪里创建
        //第一种使用方法
        File f1 = new File(&amp;quot;/home/xiaoming/音乐/java/vince.text&amp;quot;);
        //第二种使用方法,使用类中的常量separator表示斜杠
        File f2 = new File(File.separator+&amp;quot;home&amp;quot;
                +File.separator+&amp;quot;xiaoming&amp;quot;
                +File.separator+&amp;quot;音乐&amp;quot;+File.separator
                +&amp;quot;java&amp;quot;+File.separator+&amp;quot;tey.text&amp;quot;);
        //判断文件是否已经存在
        if(!f1.exists()) {
            try {
                f1.createNewFile();//创建文件
                System.out.println(&amp;quot;文件创建成功&amp;quot;);
            } catch (IOException e) {
                // 基本上IO操作都报这个错误
                e.printStackTrace();
            }
        }
        //判断对象是否是文件
        System.out.println(f1.isFile());
        //判断该对象是否为文件夹
        System.out.println(f1.isDirectory());

        //删除文件夹(前提文件夹里无文件)
        File f3 = new File(&amp;quot;/home/xiaoming/音乐/java&amp;quot;);
        boolean b = f3.delete();
        System.out.println(b);

        //列出所有文件名,若是文件夹,则列出文件夹名
        String[] name = f3.list();
        System.out.println(Arrays.toString(name));

        //列出当前目录下的所有文件,以file对象返回
        File[] f4 = f3.listFiles();
        for(File f:f4) {
            System.out.println(f.length());
            System.out.println(f.getName());
            System.out.println(f.getPath());//相对路径
            System.out.println(f.getAbsolutePath());//绝对路径
            System.out.println(f.isHidden());//是否隐藏文件
            System.out.println(f.canRead());
            Date date = new Date(f.lastModified());//最后修改时间
            DateFormat df = new SimpleDateFormat(&amp;quot;HH:mm:ss&amp;quot;);
            System.out.println(df.format(date));
        }

        //创建文件夹
        File f5 = new File(&amp;quot;/home/xiaoming/音乐/java1&amp;quot;);
        f5.mkdir();
        f5.mkdirs();//一次性创建所有指定文件夹

        //重命名与移动文件
        f5.renameTo(new File(&amp;quot;/home/xiaoming/音乐/Text1&amp;quot;));

        //过滤器
        File[] files = f5.listFiles(new FileFilter() {

            //从写此方法,用于查找出指定文件
            public boolean accept(File pathname) {
                return pathname.getName().endsWith(&amp;quot;.text&amp;quot;);
            }
        });
        //第二种写法
        File[] files_s  = f5.listFiles((pathname)-&amp;gt;pathname.getName().endsWith(&amp;quot;.text&amp;quot;));
        for(File f:files) {
            System.out.println(f.getName());
        }
    }
}",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#File类"><span class="post-toc-number">1.</span> <span class="post-toc-text">File类</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#字节输出-输入流"><span class="post-toc-number">2.</span> <span class="post-toc-text">字节输出,输入流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#字符输出-输入流"><span class="post-toc-number">3.</span> <span class="post-toc-text">字符输出,输入流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#字节字符转换流"><span class="post-toc-number">4.</span> <span class="post-toc-text">字节字符转换流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#字节字符缓冲流"><span class="post-toc-number">5.</span> <span class="post-toc-text">字节字符缓冲流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#打印流"><span class="post-toc-number">6.</span> <span class="post-toc-text">打印流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#对象流和序列化"><span class="post-toc-number">7.</span> <span class="post-toc-text">对象流和序列化</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#数据流"><span class="post-toc-number">8.</span> <span class="post-toc-text">数据流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#文件分割与合并"><span class="post-toc-number">9.</span> <span class="post-toc-text">文件分割与合并</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#字符串流"><span class="post-toc-number">10.</span> <span class="post-toc-text">字符串流</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#RandomAccessFile"><span class="post-toc-number">11.</span> <span class="post-toc-text">RandomAccessFile</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Properties文件操作类"><span class="post-toc-number">12.</span> <span class="post-toc-text">Properties文件操作类</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#文件压缩和解压缩"><span class="post-toc-number">13.</span> <span class="post-toc-text">文件压缩和解压缩</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#New-IO-NIO"><span class="post-toc-number">14.</span> <span class="post-toc-text">New IO(NIO)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#缓冲区"><span class="post-toc-number">14.1.</span> <span class="post-toc-text">缓冲区</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Path接口"><span class="post-toc-number">15.</span> <span class="post-toc-text">Path接口</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Java文件与IO
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>1月 15, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/java/" rel="tag">java</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Java文件与IO&url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Java文件与IO&url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html&title=Java文件与IO" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=Java文件与IO&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/index.html&text=Java文件与IO" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h1><p>代表计算机各个文件,目录的抽象表现形式,可以实现文件的创建,删除等</p>
<pre><code class="java">import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.Date;

public class FileDemo {
    public static void main(String[] args) {
        //File类表示一个文件或目录
        //指定在哪里创建
        //第一种使用方法
        File f1 = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        //第二种使用方法,使用类中的常量separator表示斜杠
        File f2 = new File(File.separator+&quot;home&quot;
                +File.separator+&quot;xiaoming&quot;
                +File.separator+&quot;音乐&quot;+File.separator
                +&quot;java&quot;+File.separator+&quot;tey.text&quot;);
        //判断文件是否已经存在
        if(!f1.exists()) {
            try {
                f1.createNewFile();//创建文件
                System.out.println(&quot;文件创建成功&quot;);
            } catch (IOException e) {
                // 基本上IO操作都报这个错误
                e.printStackTrace();
            }
        }
        //判断对象是否是文件
        System.out.println(f1.isFile());
        //判断该对象是否为文件夹
        System.out.println(f1.isDirectory());

        //删除文件夹(前提文件夹里无文件)
        File f3 = new File(&quot;/home/xiaoming/音乐/java&quot;);
        boolean b = f3.delete();
        System.out.println(b);

        //列出所有文件名,若是文件夹,则列出文件夹名
        String[] name = f3.list();
        System.out.println(Arrays.toString(name));

        //列出当前目录下的所有文件,以file对象返回
        File[] f4 = f3.listFiles();
        for(File f:f4) {
            System.out.println(f.length());
            System.out.println(f.getName());
            System.out.println(f.getPath());//相对路径
            System.out.println(f.getAbsolutePath());//绝对路径
            System.out.println(f.isHidden());//是否隐藏文件
            System.out.println(f.canRead());
            Date date = new Date(f.lastModified());//最后修改时间
            DateFormat df = new SimpleDateFormat(&quot;HH:mm:ss&quot;);
            System.out.println(df.format(date));
        }

        //创建文件夹
        File f5 = new File(&quot;/home/xiaoming/音乐/java1&quot;);
        f5.mkdir();
        f5.mkdirs();//一次性创建所有指定文件夹

        //重命名与移动文件
        f5.renameTo(new File(&quot;/home/xiaoming/音乐/Text1&quot;));

        //过滤器
        File[] files = f5.listFiles(new FileFilter() {

            //从写此方法,用于查找出指定文件
            public boolean accept(File pathname) {
                return pathname.getName().endsWith(&quot;.text&quot;);
            }
        });
        //第二种写法
        File[] files_s  = f5.listFiles((pathname)-&gt;pathname.getName().endsWith(&quot;.text&quot;));
        for(File f:files) {
            System.out.println(f.getName());
        }
    }
}</code></pre>
<a id="more"></a>
<h1 id="字节输出-输入流"><a href="#字节输出-输入流" class="headerlink" title="字节输出,输入流"></a>字节输出,输入流</h1><p>输出输入是从程序的角度看的<br><code>OutputStream</code>,<code>InputStream</code>是所有类的超类,要向文件中进行操作,使用子类<code>FileOutputStream</code>,<code>FileInputStream</code><br><code>write</code>,<code>read</code>的具体实现都是一个字节一个字节进行读取的</p>
<pre><code class="java">import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

public class IOStreamDemo {

    public static void main(String[] args) {
        out();
        in();

    }

    //文件输出流(写入文件)
    private static void out() {

        //确定目标文件
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        //构建一个文件输出流对象
        try {
            OutputStream out = new FileOutputStream(file,true);//第二个参数append默认为false,true时表示追加

            //输出(写入)的内容
            String info = &quot;小桥流水人家\n&quot;;
            //把内容写入文件
            out.write(info.getBytes());//write方法接收byte类型参数
            //关闭流
            out.close();
            System.out.println(&quot;输出成功!&quot;);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //文件写入流(输出文件内容)
    private static void in() {
        //确定目标文件
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        //构建一个文件输入流对象
        try {
            InputStream in = new FileInputStream(file);

            byte[] bytes = new byte[1024];//单数用中文会造成乱码,解决办法使用字符流
            StringBuilder buf = new StringBuilder();
            int len = -1;//表示每次读取的长度
            //把数据读入数组中,并返回每次读取的字节数,当不等于-1时表示读取到数据,等于-1表示读取不到数据
            /*
             * @Return
             * the total number of bytes read into the buffer, 
             * or -1 if there is no more data 
             * because the end of the stream has been reached.
             */
            while((len = in.read(bytes))!=-1) {
                //根据读取到的字节数组,再转换为字符串内容,添加到StringBuilder中
                //当读取的字符数多余字符数组大小时,新读的内容会自动替换掉从头已读的内容,但后面的原有已读内容任然保留,这时候需要加入len指定读取到的位置,避免最后读出的内容与前面重复
                buf.append(new String(bytes,0,len));
            }
            //打印内容
            System.out.println(buf);
            //关闭输入流
            in.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

}</code></pre>
<h1 id="字符输出-输入流"><a href="#字符输出-输入流" class="headerlink" title="字符输出,输入流"></a>字符输出,输入流</h1><p>字符流的内部实现还是字节流<br>字符输出流:<code>Writer</code>,对文件的操作使用子类<code>FileWriter</code><br>字符输入流:<code>Reader</code>,对文件的操作使用子类<code>FileReader</code><br>每次操作都是一个字符<br>文件字符操作流会自带缓存,默认大小为1024字节,在缓存满或手动刷新或关闭流时会写入文件,但是字节操作流没有缓存,直接写入<br>一般操作非文本文件时,使用字节流,操作文本文件时,使用字符流</p>
<pre><code class="java">import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.Reader;
import java.io.Writer;

//字符流
public class CharStreamDemo {
    public static void main(String[] args) {
        out();
        in();
    }

    // 字符输出流
    private static void out() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        try {
            Writer out = new FileWriter(file, true);
            out.write(&quot;小桥流水人家,古道西风瘦马\r\n&quot;);
            System.out.println(&quot;写入文件成功&quot;);
            out.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    // 字符输入流
    private static void in() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);

        try {
            Reader in = new FileReader(file);
            char[] cs = new char[5];
            int len = -1;
            StringBuilder buf = new StringBuilder();
            while((len = in.read(cs))!=-1) {
                buf.append(new String(cs,0,len));
            }
            System.out.println(buf);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h1 id="字节字符转换流"><a href="#字节字符转换流" class="headerlink" title="字节字符转换流"></a>字节字符转换流</h1><p><code>OutputStreamWriter</code>:可以将输出的字符转换成字节流的输出形式<br><code>InputStreamReader</code>:可以将输入的字节流转化为字符形式的输入流</p>
<pre><code class="java">import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.io.Reader;
import java.io.Writer;
import java.nio.charset.Charset;

//字节字符转换流
public class StreamChangeDemo {

    public static void main(String[] args) {

        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        InputStream in = null;
        OutputStream out = null;
        try {
            in = new FileInputStream(file);
            out = new FileOutputStream(file,true);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }
        read(in);
        write(out);
    }

    //输入流:字节转字符
    private static void read(InputStream in) {
        //将字节输入流转换成字符输入流,可以指定编码方法
        Reader reader = new InputStreamReader(in,Charset.defaultCharset());
        char[] cs = new char[1024];
        int len = -1;

        try {
            while((len = reader.read(cs)) != -1) {
                System.out.println(new String(cs,0,len));
            }
            reader.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //输出流:字符转字节
    private static void write(OutputStream out) {
        Writer writer = new OutputStreamWriter(out);

        try {
            writer.write(&quot;新年快乐!!!&quot;);
            writer.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h1 id="字节字符缓冲流"><a href="#字节字符缓冲流" class="headerlink" title="字节字符缓冲流"></a>字节字符缓冲流</h1><p>先将数据缓冲起来,再一起写入或者读取出来,提高效率<br><code>BufferedInputStream</code>,<code>BufferedOutputStream</code>为两个字节缓冲流的类<br>内部默认缓存大小为8KB,每次写入时存储到缓存中的byte数组,当数组存满时,会把数组中的数据写入文件,并且缓存下标归零<br><code>BufferedReader</code><br><code>BufferedWriter</code></p>
<pre><code class="java">import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.Reader;
import java.io.Writer;


public class BufferStreamDemo {
    public static void main(String[] args) {
        byteWriter();
        byteReader();

        charWriter();
        charReader();
    }

    //缓冲字节输出
    private static void byteWriter() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);

        try {
            OutputStream out = new FileOutputStream(file,true);
            //构造一个字节缓冲流
            BufferedOutputStream bos = new BufferedOutputStream(out);
            String info = &quot;枯藤老树昏鸦\r\n&quot;;
            bos.write(info.getBytes());
            bos.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //缓冲字节输入
    private static void byteReader() {

        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);

        try {
            InputStream in = new FileInputStream(file);
            //构造缓冲流
            BufferedInputStream bis = new BufferedInputStream(in);
            byte[] bytes = new byte[1024];
            int len = -1;
            while((len = bis.read(bytes))!=-1) {
                System.out.println(new String(bytes,0,len));
            }
            bis.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //缓冲字符输出
    private static void charWriter() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        try {
            Writer writer = new FileWriter(file,true);
            //构造缓存器
            BufferedWriter bw = new BufferedWriter(writer);
            bw.write(&quot;夕阳西下\r\n&quot;);
            bw.flush();
            bw.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    //缓冲字符输入
    private static void charReader() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.text&quot;);
        try {
            Reader reader = new FileReader(file);
            BufferedReader br = new BufferedReader(reader);
            char[] cs = new char[1024];
            int len = -1;
            while((len=br.read(cs))!=-1) {
                System.out.println(new String(cs,0,len));
            }
            br.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }    
    }
}
</code></pre>
<h1 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h1><p>便利输出<br><code>PrintStream</code><br><code>PrintWriter</code></p>
<pre><code class="java">File file = new File(&quot;xxxx&quot;);
OutputStream out = new FileOutputStream(file);
BufferedOutputStream bos = new BufferedOutputStream(out);//加缓存
PrintStream ps = new PrintStream(bos);//增强打印流
ps.println(&quot;xxxxx&quot;);
ps.close;</code></pre>
<h1 id="对象流和序列化"><a href="#对象流和序列化" class="headerlink" title="对象流和序列化"></a>对象流和序列化</h1><p>序列化:将对象的状态信息转化为可以存储或传输的形式<br>反序列化:将已经序列化的对象重新转换成对象的状态信息<br>对象流的两个类:<code>ObjectOutputStream</code>将java对象的基本数据类型和图形写入OutputStream,<code>ObjectInputStream</code>对写入ObjectOutputStream的基本数据和对象进行反序列化<br>需要序列化的情况:</p>
<ol>
<li>把对象保存到文件中</li>
<li>对象需要在网络中传输时<pre><code class="java">import java.io.Serializable;
</code></pre>
</li>
</ol>
<p>//继承标记接口表示该类需要进行序列化,否则会报java.io.NotSerializableException错误<br>public class Dog implements Serializable{</p>
<pre><code>/**
 * 定义版本号,防止两个不同对象因属性一样造成混乱
 */
private static final long serialVersionUID = 1L;
private String name;
private int age;
private String sex;
//可以使用关键字transient声明一个变量在存储时不需要维持其具体值(默认0或null)
private transient int id;
public Dog() {
    super();
}

public Dog(String name, int age, String sex) {
    super();
    this.name = name;
    this.age = age;
    this.sex = sex;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}

public int getAge() {
    return age;
}

public void setAge(int age) {
    this.age = age;
}

public String getSex() {
    return sex;
}

public void setSex(String sex) {
    this.sex = sex;
}

public String toString() {
    return &quot;Dog [name=&quot; + name + &quot;, age=&quot; + age + &quot;, sex=&quot; + sex + &quot;, getName()=&quot; + getName() + &quot;, getAge()=&quot;
            + getAge() + &quot;, getSex()=&quot; + getSex() + &quot;]&quot;;
}</code></pre><p>}</p>
<p>import java.io.File;<br>import java.io.FileInputStream;<br>import java.io.FileNotFoundException;<br>import java.io.FileOutputStream;<br>import java.io.IOException;<br>import java.io.InputStream;<br>import java.io.ObjectInputStream;<br>import java.io.ObjectOutputStream;<br>import java.io.OutputStream;</p>
<p>public class ObjectStreamDemo {<br>    public static void main(String[] args) {<br>        writeObject();<br>        readObject();<br>    }</p>
<pre><code>//对象序列化
public static void writeObject() {
    Dog dog = new Dog(&quot;猪猪&quot;,6,&quot;girl&quot;);
    //当要读取多个对象时,使用数组
    //Dog[] dogs = {dog1,dog2};
    File file = new File(&quot;/home/xiaoming/音乐/java/ObjectStream.text&quot;);
    try {
        OutputStream out = new FileOutputStream(file);
        ObjectOutputStream oos = new ObjectOutputStream(out);
        oos.writeObject(dog);//多个时改为dogs
        oos.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}

//对象反序列化
public static void readObject() {
    Dog dog = new Dog(&quot;猪猪&quot;,6,&quot;girl&quot;);
    File file = new File(&quot;/home/xiaoming/音乐/java/ObjectStream.text&quot;);
    try {
        InputStream in = new FileInputStream(file);
        ObjectInputStream ois= new ObjectInputStream(in);
        Dog dog2 = (Dog)ois.readObject();
        //多个时:Dog[] dog = (Dog[])ois.readObject();
        System.out.println(dog2);
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } catch (ClassNotFoundException e) {
        e.printStackTrace();
    }
}</code></pre><p>}</p>
<pre><code># 字节数组流  

基于内存操作,内部维护着一个字节数组,可以利用流的读取机制来处理字符串
与文件操作无关,无需关闭
`ByteArrayInputStream`
`ByteArrayOutputStream`
```java
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;

public class ByteArrayStreamDemo {

    public static void main(String[] args) {
        byteArray();
    }

    private static void byteArray() {

        String s = &quot;123456789sljtiegrgGRGFRTGAFWER(*&amp;*^&amp;%%$@#)&quot;;
        ByteArrayInputStream bais = new ByteArrayInputStream(s.getBytes());
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        int curr = -1;//每次读取的字节
        while((curr = bais.read())!=-1) {
            if((curr&gt;=65 &amp;&amp; curr&lt;=90) || (curr&gt;=97 &amp;&amp; curr&lt;=122)) {
                baos.write(curr);
            }
        }
        //此时无需关闭,因为字节数组流是基于内存的操作流
        System.out.println(baos.toString());
    }
}
</code></pre><h1 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h1><p>应用程序以与机器无关的方式从底层输出或输入java基本数据类型<br><code>DataInputStream</code><br><code>DataOutputStream</code></p>
<pre><code class="java">import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.DataInput;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

public class DataStreamDemo {

    public static void main(String[] args) {
        write();
        read();
    }

    private static void write() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.data&quot;);
        try {
            OutputStream out = new FileOutputStream(file);
            BufferedOutputStream bos = new BufferedOutputStream(out);
            DataOutputStream dos = new DataOutputStream(bos);
            dos.writeInt(15);//4个字节
            dos.writeByte(1);//写入1个字节
            dos.writeUTF(&quot;花花卡&quot;);

            dos.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private static void read() {
        File file = new File(&quot;/home/xiaoming/音乐/java/vince.data&quot;);
        try {
            InputStream in = new FileInputStream(file);
            BufferedInputStream bis = new BufferedInputStream(in);
            DataInputStream dis = new DataInputStream(bis);
            int num = dis.readInt();
            byte b = dis.readByte();
            String s =dis.readUTF();
            System.out.println(num+&quot;,&quot;+b+&quot;,&quot;+s);

            dis.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h1 id="文件分割与合并"><a href="#文件分割与合并" class="headerlink" title="文件分割与合并"></a>文件分割与合并</h1><p>合并流<code>SequenceInputStream</code></p>
<pre><code class="java">import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.SequenceInputStream;
import java.util.Enumeration;
import java.util.Vector;

/*
 * 文件的分割和合并
 */
public class FileDivisionMergeDemo {

    public static void main(String[] args) {
        //分割
        File file = new File(
                &quot;/media/M_fM__VM__GM_fM_!M_#/编程语言/Java/课程/千锋Java基础教程-Java基础（完结-217集）/千锋java基础教程：第10章 多线程与并发（12集）/第10章 多线程与并发_12_线程生命周期与线程池_小结.mp4&quot;);
        division(file, 1024 * 1024 * 10);
        System.out.println(&quot;分割成功&quot;);

        //合并
        Vector&lt;InputStream&gt; v = new Vector&lt;InputStream&gt;();
        for(int i=1;i&lt;=59;i++) {
            try {
                InputStream in = new FileInputStream(new File(&quot;/home/xiaoming/音乐/java/花花卡&quot; + i + &quot;.mp4&quot;));
                v.add(in);
            } catch (FileNotFoundException e) {
                e.printStackTrace();
            }
        }
        Enumeration&lt;InputStream&gt; es = v.elements();
        merge(es);
    }

    /**
     * 文件切割
     * 
     * @param file    要切割的文件
     * @param cutSite 切割后每份文件的大小
     */
    private static void division(File targetFile, long cutSize) {

        if (targetFile == null)
            return;
        // 计算文件的总分割数
        int num = (targetFile.length() % cutSize == 0) ? (int) (targetFile.length() / cutSize)
                : (int) ((targetFile.length() / cutSize) + 1);
        try {
            // 构造一个文件输入流
            BufferedInputStream in = new BufferedInputStream(new FileInputStream(targetFile));
            BufferedOutputStream out = null;

            byte[] bytes = null;// 每次希望读取的最大字节数
            int len = -1;// 每次读取的字节数
            int count = 0;// 每一个文件要读取的次数

            for (int i = 1; i &lt; num; i++) {
                out = new BufferedOutputStream(new FileOutputStream(&quot;/home/xiaoming/音乐/java/花花卡&quot; + i + &quot;.mp4&quot;));

                if (cutSize &lt;= 1024) {
                    bytes = new byte[(int) cutSize];
                    count = 1;
                } else {
                    bytes = new byte[1024];
                    count = (int) cutSize / 1024;
                }

                // 边读边写入,不然会刷新数组,写入不了
                // 判断条件应该把读放在后面,防止多读一次
                while (count &gt; 0 &amp;&amp; (len = in.read(bytes)) != -1) {
                    out.write(bytes);
                    out.flush();
                    count--;
                }

                // 如果余数不为零,数组不整除就需要多读一遍
                if ((int) cutSize % 1024 != 0) {
                    bytes = new byte[(int) cutSize % 1024];
                    len = in.read(bytes);
                    out.write(bytes, 0, len);
                    out.flush();
                }
                out.close();// 关闭本次输出流
            }
            in.close();// 最后才关闭输入流

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }

    private static void merge(Enumeration&lt;InputStream&gt; es) {
        //构造一个合并流
        SequenceInputStream sis = new SequenceInputStream(es);

        try {
            BufferedOutputStream bos = new BufferedOutputStream(
                    new FileOutputStream(&quot;/home/xiaoming/音乐/java/花花卡.mp4&quot;));
            byte[] bytes = new byte[1024];
            int len = -1;
            while((len=sis.read(bytes))!=-1) {
                bos.write(bytes,0,len);
                bos.flush();
            }
            bos.close();
            sis.close();
            System.out.println(&quot;合并完成&quot;);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}
</code></pre>
<h1 id="字符串流"><a href="#字符串流" class="headerlink" title="字符串流"></a>字符串流</h1><p><code>StringReader</code>以一个字符串为数据源,来构造一个字符流<br><code>StringWriter</code>无需关闭</p>
<pre><code class="java">import java.io.IOException;
import java.io.StreamTokenizer;
import java.io.StringReader;

//字符串流
public class StringStreamDemo {

    private static void stringReader() {
        String info = &quot;中 大 奖,花 呗 免 单!&quot;;
        StringReader sr = new StringReader(info);
        //流标记器
        StreamTokenizer st = new StreamTokenizer(sr);

        int count = 0;//计算总数
        //TT_EOF表示读到流的末尾,ttype是每一次读取返回的类型
        while(st.ttype != StreamTokenizer.TT_EOF) {
            try {
                //TT_WORD表示读取的内容是文字
                if(st.nextToken()==StreamTokenizer.TT_WORD) {
                    count++;
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        sr.close();
        System.out.println(&quot;count=&quot;+count);
    }
    public static void main(String[] args) {
        stringReader();
    }
}
</code></pre>
<h1 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h1><p>直接继承Object类,只可以对文件进行操作,有两种模式(<strong>r</strong>,<strong>rw</strong>)</p>
<pre><code class="java">import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;

public class RandomAccessFileDemo {

    public static void main(String[] args) {
        try {
            RandomAccessFile r = new RandomAccessFile(&quot;/home/xiaoming/音乐/java/vince.text&quot;, &quot;r&quot;);
            RandomAccessFile w = new RandomAccessFile(&quot;/home/xiaoming/音乐/java/vince2.text&quot;,&quot;rw&quot;);

            byte[] bytes = new byte[1024];
            int len = -1;
            while((len = r.read(bytes))!= -1) {
                w.write(bytes,0,len);
            }
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        System.out.println(&quot;copy success&quot;);
    }
}
</code></pre>
<h1 id="Properties文件操作类"><a href="#Properties文件操作类" class="headerlink" title="Properties文件操作类"></a>Properties文件操作类</h1><p>主要用于读取配置文件</p>
<pre><code class="java">//properties配置文件
#update config
#Sun Feb 03 10:58:41 CST 2019
db.password=987654321
db.username=xiaoming
app.version=2

//对配置文件的操作
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.Properties;

public class PropertiesDemo {

    public static String version = &quot;&quot;;
    public static String username = &quot;&quot;;
    public static String password = &quot;&quot;;

    //静态代码块,在创建对象时执行一次
        static {
            readConfig();
        }
    /**    
     * 输出操作
     */
    private static void readConfig() {

        Properties p = new Properties();
        try {
            InputStream inStream = new FileInputStream(&quot;config.properties&quot;);
            //当文件不在当前项目根目录下时,使用如下方式指定路径
//            InputStream inStream1 = Thread.currentThread().getContextClassLoader()
//                    .getResourceAsStream(&quot;com/res/config.properties&quot;);
            p.load(inStream);//加载文件

            //从properties中获取数据

            version = p.getProperty(&quot;app.version&quot;);
            username = p.getProperty(&quot;db.username&quot;);
            password = p.getProperty(&quot;db.password&quot;);

            inStream.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * 写入操作
     * @param version
     * @param username
     * @param password
     */
    private static void writeConfig(String version,String username,String password) {
        Properties p = new Properties();
        //把属性写入变量p
        p.put(&quot;app.version&quot;,version);
        p.put(&quot;db.username&quot;, username);
        p.put(&quot;db.password&quot;,password);
        try {
            OutputStream outStream = new FileOutputStream(&quot;config.properties&quot;);
            //写入文件,第二个参数是注释
            p.store(outStream, &quot;update config&quot;);
            outStream.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    public static void main(String[] args) {
        //readConfig();
        writeConfig(&quot;2&quot;, &quot;xiaoming&quot;, &quot;987654321&quot;);
        System.out.println(PropertiesDemo.version);
        System.out.println(PropertiesDemo.username);
        System.out.println(PropertiesDemo.password);
    }
}
</code></pre>
<h1 id="文件压缩和解压缩"><a href="#文件压缩和解压缩" class="headerlink" title="文件压缩和解压缩"></a>文件压缩和解压缩</h1><p><strong>压缩</strong>:<code>ZipOutputStream</code><br><code>ZipOutputStream(OutputStream out)</code>:创建新的ZIP输出流<br><code>void putNextEntry(ZipEntry e)</code>:开始写入新的ZIP文件条目并将流定位到条目数据的开始处<br><code>ZipEntry(String name)</code>:使用指定名创建新的ZIP条目<br><strong>解压</strong>:<code>ZipInputStream</code><br><code>ZipInputStream(InputStream in)</code>:创建新的ZIP输入流<br><code>ZipEntry getNextEntry()</code>:读取写一个ZiP文件条目并将流定位到该条目数据的开始处</p>
<pre><code class="java">import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;
import java.util.zip.ZipOutputStream;

/**
 * 压缩和解压缩实例
 * 
 * @author xiaoming
 *
 */
public class CompressionAndDecompressionDemo {

    public static void main(String[] args) {
        File file = new File(&quot;/home/xiaoming/音乐/12345&quot;);
        compression(&quot;/home/xiaoming/音乐/123456789.zip&quot;, file);

        decompression(&quot;/home/xiaoming/音乐/123456789.zip&quot;, &quot;/home/xiaoming/音乐&quot;);

    }

    /**
     * 压缩
     * 
     * @param zipFileName 希望压缩后的文件名(路径)
     * @param targetFile  目标文件
     * @return
     */
    private static void compression(String zipFileName, File targetFile) {
        System.out.println(&quot;正在压缩...&quot;);
        try {
            ZipOutputStream out = new ZipOutputStream(new FileOutputStream(zipFileName));
            // 添加缓存加快效率
            BufferedOutputStream bos = new BufferedOutputStream(out);
            // 进行压缩
            zip(out, targetFile, targetFile.getName(), bos);
            bos.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        System.out.println(&quot;压缩完成!!!&quot;);
    }

    /**
     * 执行具体的压缩操作
     * 
     * @param out            对文件进行压缩的类
     * @param targetFile     目标文件
     * @param targetFileName 要压缩文件的文件名
     * @param bos            缓存流
     * @throws IOException
     */
    private static void zip(ZipOutputStream out, File targetFile, String targetFileName, BufferedOutputStream bos)
            throws IOException {
        // 判断是目录还是文件夹
        if (targetFile.isDirectory()) {
            // 如果是空目录
            if (targetFile.length() == 0) {
                out.putNextEntry(new ZipEntry(targetFileName));// 处理空目录
            }
            File[] files = targetFile.listFiles();
            for (File f : files) {
                zip(out, f, targetFileName + &quot;/&quot; + f.getName(), bos);
            }
        } else {
            out.putNextEntry(new ZipEntry(targetFileName));
            FileInputStream in = new FileInputStream(targetFile);
            BufferedInputStream bis = new BufferedInputStream(in);
            byte[] bytes = new byte[1024];
            int len = -1;
            while ((len = bis.read(bytes)) != -1) {
                bos.write(bytes, 0, len);
            }
            bis.close();
        }
    }

    /**
     * 解压
     * 
     * @param targetFileName 要解压的文件名
     * @param parent         解压到的位置
     */
    private static void decompression(String targetFileName, String parent) {
        // 构造解压的输入流
        ZipInputStream zIn;
        try {
            zIn = new ZipInputStream(new FileInputStream(targetFileName));
            ZipEntry entry = null;
            File file = null;
            while ((entry = zIn.getNextEntry()) != null &amp;&amp; !entry.isDirectory()) {
                file = new File(parent, entry.getName());
                if (!file.exists()) {
                    new File(file.getParent()).mkdirs();// 创建此文件的上级目录
                }
                OutputStream out = new FileOutputStream(file);
                BufferedOutputStream bos = new BufferedOutputStream(out);
                byte[] bytes = new byte[1024];
                int len = -1;
                while ((len = zIn.read(bytes)) != -1) {
                    bos.write(bytes, 0, len);
                }
                bos.close();
                System.out.println(file.getAbsolutePath() + &quot;解压成功&quot;);
            }
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}
</code></pre>
<h1 id="New-IO-NIO"><a href="#New-IO-NIO" class="headerlink" title="New IO(NIO)"></a>New IO(NIO)</h1><p>原来的IO采用流的方式处理数据,为NIO以块的方式处理数据,效率更高,在NIO中,所有的数据都是在缓冲区处理,缓冲区实际上是一个数组</p>
<h2 id="缓冲区"><a href="#缓冲区" class="headerlink" title="缓冲区"></a>缓冲区</h2><p>缓冲区的类型:</p>
<ul>
<li>ByteBuffer</li>
<li>CharBuffer</li>
<li>ShortBuffer</li>
<li>LongBuffer</li>
<li>DoubleBuffer</li>
<li>IntBuffer</li>
<li>FloatBuffer<pre><code class="java">package nio;
</code></pre>
</li>
</ul>
<p>import java.nio.ByteBuffer;</p>
<p>public class NIODemo {</p>
<pre><code>public static void main(String[] args) {
    //创建一个字节缓冲区,申请内存空间为8字节,参数为申请的内存空间
    ByteBuffer buf = ByteBuffer.allocate(8);

    //查看其内部属性值
    System.out.println(&quot;position=&quot;+buf.position());
    System.out.println(&quot;limit=&quot;+buf.limit());
    System.out.println(&quot;capacity=&quot;+buf.capacity());

    //向缓冲区写入数据
    buf.put((byte)10);
    buf.put((byte)20);
    buf.put((byte)30);
    buf.put((byte)40);

    System.out.println(&quot;position=&quot;+buf.position());
    System.out.println(&quot;limit=&quot;+buf.limit());
    System.out.println(&quot;capacity=&quot;+buf.capacity());

    //缓冲区反转(把limit设置为position的值,并把positon置零),在取值前使用
    buf.flip();
    System.out.println(&quot;position=&quot;+buf.position());
    System.out.println(&quot;limit=&quot;+buf.limit());
    System.out.println(&quot;capacity=&quot;+buf.capacity());

    //取值
    //判断当前位置与限制元素之间是否有元素
    if(buf.hasRemaining()) {
        //返回当前位置与限制之间的元素数
        for(int i=0;i&lt;buf.remaining();i++) {
            byte b = buf.get(i);//取值
            System.out.println(b);
        }
    }        
}</code></pre><p>}</p>
<pre><code>## 通道:Channel  

数据通过通道进出缓冲区,Channel是一个类
```java
/**
 * 文件复制实例
 */
package nio;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.nio.ByteBuffer;
import java.nio.MappedByteBuffer;
import java.nio.channels.FileChannel;
import java.nio.channels.FileChannel.MapMode;

public class CopyFileDemo {

    public static void main(String[] args) {
        try {
            copyFile();
            randomAccessFileCopy();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    //NIO方式
    private static void copyFile() throws IOException {
        //创建一个输入文件的通道
        FileChannel in = new FileInputStream(&quot;/home/xiaoming/图片/v2-c4a14410a05ed4ddede728e6d467effc_r.jpg&quot;).getChannel();
        //创建一个输出文件的通道
        FileChannel out = new FileOutputStream(&quot;/home/xiaoming/音乐/background.jpg&quot;).getChannel();

        ByteBuffer buf = ByteBuffer.allocate(1024);
        while(in.read(buf)!=-1) {
            buf.flip();
            out.write(buf);
            buf.clear();
        }
        in.close();
        out.close();
        System.out.println(&quot;copy success&quot;);
    }

    //印射方式
    private static void randomAccessFileCopy() throws IOException {
        RandomAccessFile in = new RandomAccessFile(&quot;/home/xiaoming/图片/v2-c4a14410a05ed4ddede728e6d467effc_r.jpg&quot;,&quot;r&quot;);
        RandomAccessFile out = new RandomAccessFile(&quot;/home/xiaoming/音乐/background1.jpg&quot;, &quot;rw&quot;);

        FileChannel fcIn = in.getChannel();
        FileChannel fcOut = out.getChannel();

        long size = fcIn.size();//输入流的字节大小
        //输入流的缓冲区
        MappedByteBuffer inBuf = fcIn.map(MapMode.READ_ONLY, 0, size);
        //输出流的缓冲区
        MappedByteBuffer outBuf = fcOut.map(MapMode.READ_WRITE, 0, size);

        for(int i=0;i&lt;size;i++) {
            outBuf.put(inBuf.get());
        }
        fcIn.close();
        fcOut.close();
        in.close();
        out.close();
        System.out.println(&quot;copy success&quot;);
    }
}
</code></pre><p>IO操作的性能比较:</p>
<ol>
<li>内存印射最快</li>
<li>NIO读写</li>
<li>使用缓存的IO流</li>
<li>普通无缓存IO<h1 id="Path接口"><a href="#Path接口" class="headerlink" title="Path接口"></a>Path接口</h1></li>
</ol>
<p>Path表示一个目录名,表示具体路径</p>
<pre><code class="java">package nio;

import java.io.File;
import java.io.IOException;
import java.nio.file.FileSystems;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;
import java.nio.file.StandardOpenOption;

public class PathFileDemo {

    public static void main(String[] args) {
        File file = new File(&quot;/home/xiaoming/音乐/background.jpg&quot;);

        //path,通过这种方式获取文件
        Path p1 = Paths.get(&quot;/home/xiaoming/音乐&quot;,&quot;background.jpg&quot;);
        System.out.println(p1);

        Path p2 = file.toPath();
        System.out.println(p2);

        //toPath方法的具体实现方法
        Path p3 = FileSystems.getDefault().getPath(&quot;/home/xiaoming/音乐&quot;,&quot;background.jpg&quot;);

        //Files工具类
        Path p4 = Paths.get(&quot;/home/xiaoming/音乐/工具类.text&quot;);
        String info = &quot;一闪一闪亮晶晶&quot;;
        try {
            Files.write(p4, info.getBytes(&quot;gb2312&quot;), StandardOpenOption.CREATE_NEW);
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            byte[] bytes = Files.readAllBytes(p4);
            System.out.println(new String(bytes));
        } catch (IOException e) {
            e.printStackTrace();
        }

        //复制(第三个参数可选)
        try {
            Files.copy(p3, Paths.get(&quot;/home/xiaoming/音乐/background2.jpg&quot;),StandardCopyOption.REPLACE_EXISTING);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //移动文件
        try {
            Files.move(p3, Paths.get(&quot;/home/xiaoming/音乐/background2.jpg&quot;),StandardCopyOption.REPLACE_EXISTING);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //删除文件
        try {
            Files.delete(p3);
            Files.deleteIfExists(p3);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //创建目录文件
        try {
            Files.createDirectory(Paths.get(&quot;/home/xiaoming/音乐/abc&quot;));//除了最后的一个部件,其他的必须是已存在的
            Files.createDirectories(Paths.get(&quot;/home/xiaoming/音乐/abc&quot;));
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //创建文件
        try {
            Files.createFile(Paths.get(&quot;/home/xiaoming/音乐/abc.txt&quot;));
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //添加前后缀创建临时文件或临时目录
        //Path newPath = Files.createTempFile(prefix, suffix, attrs);
        //Path newPath = Files.createTempDirectory(dir, prefix);

    }

}
</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/01/15/Java%E6%96%87%E4%BB%B6%E4%B8%8EIO/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/02/10/Java%E9%9B%86%E5%90%88/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/01/11/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
