<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>



    <link rel="dns-prefetch" href="https://hm.baidu.com"/>

    <link rel="dns-prefetch" href="https://www.google-analytics.com"/>



    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            PHP面向对象 | 
        
        Silverming
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <link rel="icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="创建类&amp;lt;?php
class fei{
    public $name=&amp;#39;xiaoming&amp;#39;;//类的属性
    //类的方法
    public function fly() {
        echo &amp;quot;fly&amp;quot;;
    }
}

//类的调用
$ff = new fei();
echo $ff -&amp;gt; name;
$ff -&amp;gt; fly();
?&amp;gt;">
    <meta name="keywords" content=",php">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Silverming">
    <meta name="msapplication-starturl" content="http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Silverming">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="PHP面向对象 | Silverming">
    <meta property="og:image" content="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg">
    <meta property="og:description" content="创建类&amp;lt;?php
class fei{
    public $name=&amp;#39;xiaoming&amp;#39;;//类的属性
    //类的方法
    public function fly() {
        echo &amp;quot;fly&amp;quot;;
    }
}

//类的调用
$ff = new fei();
echo $ff -&amp;gt; name;
$ff -&amp;gt; fly();
?&amp;gt;">
    <meta property="og:article:tag" content="php"> 

    
        <meta property="article:published_time" content="Sat Jun 16 2018 00:00:00 GMT+0800">
        <meta property="article:modified_time" content="Tue Dec 01 2020 18:41:15 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html",
    "headline": "PHP面向对象",
    "datePublished": "Sat Jun 16 2018 00:00:00 GMT+0800",
    "dateModified": "Tue Dec 01 2020 18:41:15 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Silverming",
        "image": {
            "@type": "ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg"
        },
        "description": "Stay foolish, stay hungry."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Silverming",
        "logo": {
            "@type":"ImageObject",
            "url": "https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg"
        }
    },
    "keywords": ",php",
    "description": "创建类&amp;lt;?php
class fei{
    public $name=&amp;#39;xiaoming&amp;#39;;//类的属性
    //类的方法
    public function fly() {
        echo &amp;quot;fly&amp;quot;;
    }
}

//类的调用
$ff = new fei();
echo $ff -&amp;gt; name;
$ff -&amp;gt; fly();
?&amp;gt;",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-M2RT7SDT3L', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ebb03ad7ad5b762ac8ff7958df6d3f';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#创建类"><span class="post-toc-number">1.</span> <span class="post-toc-text">创建类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#知识点补充：数组"><span class="post-toc-number">1.0.0.1.</span> <span class="post-toc-text">知识点补充：数组</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#二维数组-多维数组"><span class="post-toc-number">1.0.0.2.</span> <span class="post-toc-text">二维数组,多维数组</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#var-dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL"><span class="post-toc-number">1.0.0.3.</span> <span class="post-toc-text">var_dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#类和对象的关系"><span class="post-toc-number">2.</span> <span class="post-toc-text">类和对象的关系</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#this的使用"><span class="post-toc-number">2.0.1.</span> <span class="post-toc-text">this的使用</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#封装MySQL类"><span class="post-toc-number">3.</span> <span class="post-toc-text">封装MySQL类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#知识点补充：mysql-fetch-assoc-函数"><span class="post-toc-number">3.0.0.1.</span> <span class="post-toc-text">知识点补充：mysql_fetch_assoc()函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#MySQL的封装"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">MySQL的封装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#构造方法：类一旦被实例化，就会被调用"><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">构造方法：类一旦被实例化，就会被调用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#析构方法：对象被销毁时，才会被调用"><span class="post-toc-number">3.0.3.</span> <span class="post-toc-text">析构方法：对象被销毁时，才会被调用</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#类的封装性"><span class="post-toc-number">4.</span> <span class="post-toc-text">类的封装性</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#类的继承"><span class="post-toc-number">5.</span> <span class="post-toc-text">类的继承</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#三种权限："><span class="post-toc-number">5.0.0.1.</span> <span class="post-toc-text">三种权限：</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#静态属性和静态方法"><span class="post-toc-number">6.</span> <span class="post-toc-text">静态属性和静态方法</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#类常量"><span class="post-toc-number">7.</span> <span class="post-toc-text">类常量</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#单例模式"><span class="post-toc-number">8.</span> <span class="post-toc-text">单例模式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#self和parent"><span class="post-toc-number">9.</span> <span class="post-toc-text">self和parent</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#抽象类"><span class="post-toc-number">10.</span> <span class="post-toc-text">抽象类</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#异常"><span class="post-toc-number">11.</span> <span class="post-toc-text">异常</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#知识点补充"><span class="post-toc-number">11.0.0.1.</span> <span class="post-toc-text">知识点补充</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#命名空间"><span class="post-toc-number">12.</span> <span class="post-toc-text">命名空间</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#超载的static"><span class="post-toc-number">13.</span> <span class="post-toc-text">超载的static</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#封装数据库"><span class="post-toc-number">14.</span> <span class="post-toc-text">封装数据库</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#所需函数知识点补充："><span class="post-toc-number">14.0.0.1.</span> <span class="post-toc-text">所需函数知识点补充：</span></a></li></ol></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                PHP面向对象
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Silverming</strong>
        <span>6月 16, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/php/" rel="tag">php</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=PHP面向对象&url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html&pic=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=PHP面向对象&url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html&via=Silverming" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html&title=PHP面向对象" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Silverming&title=PHP面向对象&summary=Wechat:934933088&pics=http://yoursite.comhttps://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2icon.jpeg&url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/index.html&text=PHP面向对象" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="创建类"><a href="#创建类" class="headerlink" title="创建类"></a>创建类</h1><pre><code class="php">&lt;?php
class fei{
    public $name=&#39;xiaoming&#39;;//类的属性
    //类的方法
    public function fly() {
        echo &quot;fly&quot;;
    }
}

//类的调用
$ff = new fei();
echo $ff -&gt; name;
$ff -&gt; fly();
?&gt;</code></pre>
<a id="more"></a>
<ol>
<li>类名不区分大小写，但必须认为区分（Linux严格区分），尽量使用大驼峰法命名</li>
<li>php5.6以后属性可以使用表达式</li>
</ol>
<h4 id="知识点补充：数组"><a href="#知识点补充：数组" class="headerlink" title="知识点补充：数组"></a>知识点补充：数组</h4><blockquote>
<p>定义数组使用<code>array(&#39;key&#39;=&gt;&#39;value&#39;,...)</code></p>
</blockquote>
<blockquote>
<p>打印出数组：<code>print_r()</code></p>
</blockquote>
<blockquote>
<p>取数组的某个值，<code>用echo $arr[&#39;003&#39;]</code></p>
</blockquote>
<pre><code class="php">&lt;?php
 //声明一个数组
 $arr = array(&#39;001&#39;=&gt;&#39;aaa&#39;,&#39;002&#39;=&gt;&#39;bbb&#39;,&#39;003&#39;=&gt;&#39;cccc&#39;);

 print_r($arr);
 echo $arr[&#39;003&#39;];
?&gt;</code></pre>
<blockquote>
<p>数组的key可以是字符串，此时数组为关联数组</p>
</blockquote>
<p>$arr2 = array(‘name’=&gt;’aaa’,’age’=&gt;’15’,…);</p>
<h4 id="二维数组-多维数组"><a href="#二维数组-多维数组" class="headerlink" title="二维数组,多维数组"></a>二维数组,多维数组</h4><pre><code>$arr=array(&#39;name&#39;=&gt;&#39;aaa&#39;,&#39;hobby&#39;=&gt;array(&#39;football&#39;,&#39;badminton&#39;,&#39;season&#39;=&gt;array(&#39;春&#39;,&#39;夏&#39;,&#39;秋&#39;,&#39;冬&#39;));</code></pre><h4 id="var-dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL"><a href="#var-dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL" class="headerlink" title="var_dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL"></a>var_dump（）：用于显示对象内部数据结构，如果变量存在但值为空，返回false，没有变量返回NULL</h4><h1 id="类和对象的关系"><a href="#类和对象的关系" class="headerlink" title="类和对象的关系"></a>类和对象的关系</h1><ol>
<li>new一个对象后，属性在内存中产生</li>
<li>方法只放方法名，不放方法体 <h3 id="this的使用"><a href="#this的使用" class="headerlink" title="this的使用"></a>this的使用</h3><blockquote>
<p><code>this用于调用对象中的变量</code>,谁调用this就代表该对象</p>
</blockquote>
</li>
</ol>
<pre><code class="php">&lt;?php
class Ren{
    public $name=&quot;小铭&quot;;
    public $work=&quot;6666&quot;;

    public function code(){
        echo $this -&gt;name.&#39;写php&#39;;
    }
}

$ren = new Ren();
$ren -&gt;name =&#39;梓铭&#39;;
$ren-&gt;code();
?&gt;</code></pre>
<h1 id="封装MySQL类"><a href="#封装MySQL类" class="headerlink" title="封装MySQL类"></a>封装MySQL类</h1><h4 id="知识点补充：mysql-fetch-assoc-函数"><a href="#知识点补充：mysql-fetch-assoc-函数" class="headerlink" title="知识点补充：mysql_fetch_assoc()函数"></a>知识点补充：<code>mysql_fetch_assoc()函数</code></h4><blockquote>
<p>该函数用于从结果集取得一行作为关联数组，返回一个数组，用关键字索引取值</p>
</blockquote>
<h3 id="MySQL的封装"><a href="#MySQL的封装" class="headerlink" title="MySQL的封装"></a>MySQL的封装</h3><pre><code class="php">&lt;?php
class Mysql{
    public $link;
    public function connect(){
        $cfg = array(
        &#39;host&#39;=&gt;&#39;localhost&#39;,
        &#39;user&#39;=&gt;&#39;xiao_ming&#39;,
        &#39;ps&#39;=&gt;&#39;zm19980225&#39;,
        &#39;db&#39;=&gt;&#39;oo&#39;,
        &#39;charset&#39;=&gt;&#39;utf-8&#39;
        );
        $this-&gt;link = mysqli_connect($cfg[&#39;host&#39;],$cfg[&#39;user&#39;],$cfg[&#39;ps&#39;],$cfg[&#39;db&#39;]);
    }

    //构造方法
    public function __construct(){
        $this -&gt;connect();
    }

    public function query($sql){
        return mysqli_query($this-&gt;link,$sql);
    }

    public function getAll($sql){
        $data=array();
        $res=$this-&gt;query($sql);
        while($row = mysqli_fetch_assoc($res)){
            $data[]=$row;
        }
        return $data;
    }
}

$mysql = new Mysql();
$a = $mysql-&gt;getAll(&#39;select * from object_oriented&#39;);
var_dump($a);
?&gt;</code></pre>
<h3 id="构造方法：类一旦被实例化，就会被调用"><a href="#构造方法：类一旦被实例化，就会被调用" class="headerlink" title="构造方法：类一旦被实例化，就会被调用"></a>构造方法：类一旦被实例化，就会被调用</h3><blockquote>
<p><code>使用__construct()作为函数名</code></p>
</blockquote>
<pre><code class="php">&lt;?php
class Human{
    //构造方法
    class function __construct(){
        echo &#39;aaa&#39;;
    }
}
new Human;
?&gt;</code></pre>
<h3 id="析构方法：对象被销毁时，才会被调用"><a href="#析构方法：对象被销毁时，才会被调用" class="headerlink" title="析构方法：对象被销毁时，才会被调用"></a>析构方法：对象被销毁时，才会被调用</h3><blockquote>
<p>总是会被最后才调用，不管在什么位置，<code>使用__destruct()作为函数名</code> </p>
</blockquote>
<pre><code class="php">&lt;?php
class Human{
    //析构方法
    class function __destruct(){
        echo &#39;bbb&#39;;
    }
}
new Human;
?&gt;</code></pre>
<p>对象何时被销毁：</p>
<ol>
<li>存储对象的变量被赋值为其他值</li>
<li>变量被unset</li>
<li>页面结束时，程序执行到最后时</li>
</ol>
<p>构造、析构方法时，若需要传递参数，直接在new对象的时候传</p>
<pre><code class="php">&lt;?php
class Human{
    public function __construct($a,$b){
        echo $a,$b;
    }
}

new Human(&#39;aaa&#39;,&#39;bbb&#39;);
?&gt;</code></pre>
<h1 id="类的封装性"><a href="#类的封装性" class="headerlink" title="类的封装性"></a>类的封装性</h1><p>封装：即不允许外部调用，要调用封装函数，只能开放一个接口，<code>使用protected</code></p>
<h1 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h1><p>继承：子类可以继承父类的属性及方法，并允许覆盖父类的方法或新增方法</p>
<p>继承的语法：使用<code>extends</code></p>
<pre><code class="php">class ParClass{
   ...
}
class SubClass extends ParClass {
    ...
}</code></pre>
<p><strong>final类不能被继承，final方法不能被重写</strong></p>
<p>使用final的时候直接在前面加上final</p>
<h4 id="三种权限："><a href="#三种权限：" class="headerlink" title="三种权限："></a>三种权限：</h4><p>public: 外部、自身、子类都可以调用</p>
<p>protected：不允许外部调用，自身和子类可以调用</p>
<p>private: 只能够自身调用，外部和子类都不可以调用</p>
<h1 id="静态属性和静态方法"><a href="#静态属性和静态方法" class="headerlink" title="静态属性和静态方法"></a>静态属性和静态方法</h1><p>1.静态方法：可以不用实例化就可以调用该方法，使用<code>static</code></p>
<blockquote>
<p><code>类名::方法</code></p>
</blockquote>
<ol start="2">
<li>静态属性：不用实例化就可以调用该属性，使用<code>static</code><blockquote>
<p><code>类名::属性</code></p>
</blockquote>
</li>
</ol>
<h1 id="类常量"><a href="#类常量" class="headerlink" title="类常量"></a>类常量</h1><p> 在类中定义常量时，使用<strong>const</strong>，在类中引用该变量时，使用<code>类名::常量名</code></p>
<h1 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h1><p>只能造出一个对象</p>
<pre><code class="php">&lt;?PHP
//单例模式
class Single{
    public $rand;
    static public $oc=null;

    //使用final防止被子类更改
    final protected function __construct(){
        $this-&gt;rand = mt_rand(100000,99999999);
    }

    /*使用static是方便外部调用，引用如果外部new一个新的对象，
    会导致外部自动调用有protected的__construct函数失败*/
    static public function GetIns(){

        //使用条件判断使其最终只能产生一个随机数
        if(Single::$oc ` null){
            Single::$oc = new Single();
        }
        return Single::$oc;
    }
}

class Test extends Single{};
var_dump(Test::GetIns());
var_dump(Test::GetIns());
?&gt;</code></pre>
<h1 id="self和parent"><a href="#self和parent" class="headerlink" title="self和parent"></a>self和parent</h1><ol>
<li>self：表示类自己</li>
<li>parent：表示父类<pre><code class="php">&lt;?php
class Par{
 public function __construct(){
     echo rand(111,999999);
 }
}
</code></pre>
</li>
</ol>
<p>class Son extends Par{<br>    public function <strong>construct(){<br>        parent::</strong>construct();<br>        echo 1;<br>    }<br>}<br>new Son();<br>?&gt;</p>
<pre><code># 魔术方法
魔术方法：在某种场景下能够自动调用的方法

不可见属性：未定义或者受保护（外部不能访问的）
1. __construct()
2. __destruct()
3. __get(属性名)：当读取对象的一个`不可见属性`时,自动调用,并返回值 
4. __set(属性名,属性值): 当对一个`不可见的属性`赋值时,自动调用
5. __isset(属性名): 当用isset,或empty判断一个`不可见属性`时,自动调用 
6. __unset(属性名): 当unset一个`不可见属性`时,自动调用
# 自动加载
某个场景下自动调用某个函数即为自动加载

`spl_autoload_register(&#39;自动调用的函数名&#39;)`：该函数把某个函数注册为自动加载函数，当程序调用的类不存在时，会自动调用参数函数
```php
?php
function myload($class){
    include &#39;./&#39;.$class.&#39;class.php&#39;;
}

//把一个函数注册为自动触发函数
spl_autoload_register(&#39;myload&#39;);//当new的类不存在时，触发参数函数

new Mysql();
?&gt;</code></pre><h1 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h1><p><strong>abstract</strong>：用于声明这是一个抽象类、抽象方法（抽象方法不需要方法体）</p>
<ul>
<li><p>类继承抽象类时必须对类中的抽象方法一一加以实现</p>
</li>
<li><p>抽象类不能被实例化</p>
</li>
<li><p>抽象类中可以有已经实现的方法，但只有一个抽象方法，就是抽象类</p>
<pre><code class="php">&lt;?php
abstract class aDB{
 abstract public function getAll($sql);

 abstract public function putAll($sql);
}
</code></pre>
</li>
</ul>
<p>//继承抽象类并实现抽象方法<br>class Mysql extends aDB{<br>    public function getAll($sql){</p>
<pre><code>}
public function putAll($sql){

}</code></pre><p>}<br>?&gt;</p>
<pre><code> # 接口
 - 接口用于定义抽象的方法
 - 使用**interface**表示接口
 - 使用**implements**表示实现接口
 - 接口本身就是抽象的,方法前不用加abstract
 - 接口里的方法,只能是public
 - 类可以同时实现多个接口
```php
&lt;?php
interface flyer {
    public function fly($oil,$height);
}

interface runer {
    public function run($cicle,$dir);
}

interface water {
    public function swim($dir);
}

class Super implements flyer,runer{
    public function fly($oil,$height){
        echo &quot;I am flying.&quot;;
    }
    public function run($circle,$dir){
        echo &quot;I am running.&quot;;
    }
}

$a = new Super;
$a -&gt;fly(&#39;a&#39;,&#39;b&#39;);
$a -&gt;run(&#39;a&#39;,&#39;b&#39;);
?&gt;</code></pre><h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><ul>
<li>抛出异常：使用<strong>throw new Exception(“自定义语句”,数字)</strong></li>
<li>处理异常：使用<strong>try{ } catch(Exception $a) { }</strong><h4 id="知识点补充"><a href="#知识点补充" class="headerlink" title="知识点补充"></a>知识点补充</h4>获取文件位置：使用<strong>getFlie()函数</strong></li>
</ul>
<p>获取位置行数：使用<strong>getLine()函数</strong></p>
<pre><code class="php">&lt;?php
function t1(){
    if (rand(1,10) &gt; 5){
    //抛出错误
        throw new Exception(&#39;凉凉&#39;,1); 
    }
    else{
        return t2();
    }
}

function t2(){
    if(rand(1,10)&gt;5){
        throw new Exception(&#39;暖暖&#39;,2);
    }
    else{
        return t3();
    }
}

function t3(){
    if(rand(1,10)&gt;5){
        throw new Exception(&#39;高考加油&#39;,3);
    }
    else{
        return true;
    }
}

try{
    var_dump(t1());
}
//获取错误
catch (Exception $e){
    echo &#39;文件：&#39;.$e-&gt;getFile();
    echo &#39;行数：&#39;.$e-&gt;getLine();
    echo $e-&gt;getMessage();
}
?&gt;</code></pre>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><p> 用<strong>namespace</strong>创建一个命名空间，其下面类就在这个命名空间下，在某个命名空间下使用同名类，优先使用本类。要用别的命名空间的同名类的时候，要先require/include然后使用路径或用use，然后起个别名</p>
<ul>
<li>namespace的声明必须在执行代码第一行</li>
<li>声明后，其后的类、函数，都被封锁在命名空间下</li>
<li>require/include其他带有命名空间的页面,自身的空间,并没有受干扰</li>
<li>如果想明确的使用某空间下的类, 可以从根空间,逐步寻找,如\zixueit\Class();</li>
<li>如果频繁用某个空间下的类,可以先use声明 </li>
<li>自动加载函数的参数,包含 “空间路径\类名”<pre><code class="php">//26.php
</code></pre>
</li>
</ul>
<p>//开创命名空间<br>namespace flower;<br>include ‘26_1.php’;//包含别的文件<br>class Leaf{<br>    public function __construct(){<br>        echo 11;<br>    }<br>}</p>
<p>//使用别的命名空间里的同名类，先起个别名<br>use tree\Leaf as t;<br>new t();</p>
<p>//26_1.php</p>
<p>//namespace tree;<br>class Leaf{<br>    public function __construct(){<br>        echo 22;<br>    }<br>}</p>
<pre><code># 延迟绑定
```php
&lt;?php
class Parents{
    public static function a(){
        echo &quot;我是傅雷&quot;;
    }
    public static function b(){
        self::a();//此处打印傅雷
        static ::a();//延迟绑定，直到调用才知道是哪个类调用
    }
}

class Son extends Parents{
    public static function a(){
        echo &quot;我是傅聪&quot;;
    }
}

Son::b();//此处会打印傅雷
?&gt;</code></pre><h1 id="超载的static"><a href="#超载的static" class="headerlink" title="超载的static"></a>超载的static</h1><ol>
<li><p>函数内声明静态变量用</p>
<pre><code>function S1(){

 //仅在局部中存在，但其值并不丢失，下次调用仍是上次结束时的值
 static $a1=1;
 $a1 ++;
}</code></pre></li>
<li><p>声明类静态属性和静态方法</p>
</li>
<li><p>延迟绑定</p>
</li>
</ol>
<h1 id="封装数据库"><a href="#封装数据库" class="headerlink" title="封装数据库"></a>封装数据库</h1><h4 id="所需函数知识点补充："><a href="#所需函数知识点补充：" class="headerlink" title="所需函数知识点补充："></a>所需函数知识点补充：</h4><ul>
<li>array_key($data)：用于获取数组的键的内容</li>
<li>array_values($data)：用于获取数组的值的内容</li>
<li>trim(数组,去掉的内容):两个参数，去掉数组中指定的内容，可以使用ltrim和rtrim分别表示去掉最左边和最后边的指定内容</li>
</ul>
<pre><code class="php">/*conflig.php*/
&lt;?php
$cfg = array(
    &#39;host&#39;=&gt;&#39;localhost&#39;,
    &#39;user&#39;=&gt;&#39;xiao_ming&#39;,
    &#39;pwd&#39;=&gt;&#39;zm19980225&#39;,
    &#39;db&#39;=&gt;&#39;oo&#39;,
    &#39;charset&#39;=&gt;&#39;utf-8&#39;
    );
    return $cfg;
?&gt;




/* Mysql.php */
&lt;?php
abstract class aDB {

    /**
    *连接数据库，从配置文件读取配置信息
    */
    abstract public function conn();

    /**
    *发送query查询
    *@return mixed
    */
    abstract public function query($sql);

    /**
    *查询多行数据
    *@return array
    */
    abstract public function getAll($sql);

    /**
    *单行数据
    *@return array
    */
    abstract public function getRow($sql);

    /**
    *查询单个数据 如count(*)
    *@return mixed
    */
    abstract public function getOne($sql);

    /**
    *自动创建sql并执行
    *@param array $data 关联数组 键/值与表的列/值相对应
    *@param string $table 表名字
    *@param string $act 动作/update/insert
    *@param string $where 条件，用于update
    *@return int 新插入的行的主键值或影响行数
    */
    abstract public function Exce($data,$table,$act=&#39;insert&#39;,$where=&#39;0&#39;);

    /**
    * 返回上一条insert语句产生的主键值
    */
    abstract public function LastId();

    /**
    *返回上一条语句影响的行数
    */
    abstract public function affectRows();
}

class Mysql extends aDB{
    public $link;
    //自动连接
    public function __construct(){
        $this-&gt;conn();
    }

    /**
    *连接数据库，从配置文件读取配置信息
    */
    public function conn(){
        $cfg = include &#39;./conflig.php&#39;;
        //连接数据库的面向对象风格
        $this-&gt;link = new Mysqli($cfg[&#39;host&#39;],$cfg[&#39;user&#39;],$cfg[&#39;pwd&#39;],$cfg[&#39;db&#39;]);
        $this-&gt;query(&#39;set name&#39; . $cfg[&#39;charset&#39;]);

    }

    /**
    *发送query查询
    *@return mixed
    */
    public function query($sql){
        //面向对象的风格，直接使用上面new的mysqli类的query()
        return $this-&gt;link-&gt;query($sql);//只需要一个参数，不用$link
    }

    /**
    *查询多行数据
    *@return array
    */
    public function getAll($sql){
        $data=[];
        $result = $this-&gt;query($sql);//query()会返回一个对象
        //面向对象风格，直接调用query返回类里的方法
        while ($row = $result-&gt;fetch_assoc()){
            $data[]=$row;
        }
        return $data;
    }

    /**
    *单行数据
    *@return array
    */
    public function getRow($sql){
        $result = $this-&gt;query($sql);
        $row = $result-&gt;fetch_assoc();
        return $row;
    }

    /**
    *查询单个数据 如count(*)
    *@return mixed
    */
    public function getOne($sql){
        $result = $this-&gt;query($sql);
        //fetch_row()每次取一行的内容放入数组
        $row = $result-&gt;fetch_row()[1];
        return $row;
    }

    /**
    *自动创建sql并执行
    *@param array $data 关联数组 键/值与表的列/值相对应
    *@param string $table 表名字
    *@param string $act 动作/update/insert
    *@param string $where 条件，用于update
    *@return int 新插入的行的主键值或影响行数
    */
    public function Exce($data,$table,$act=&#39;insert&#39;,$where=&#39;0&#39;){
        if($act ` &#39;insert&#39;){
            //插入语句
            $sql = &#39;insert into &#39; . $table .&#39; (&#39;;
            //拆分数组
            $sql .= implode(&#39;,&#39;,array_keys($data)).&#39;) &#39;;//函数获取数组的键
            $sql .= &quot;values (&#39;&quot;;
            $sql .= implode(&quot;&#39;,&#39;&quot;,array_values($data)).&quot;&#39;)&quot;; //函数获取数组的值
            $this -&gt;query($sql);
            return $this-&gt;LastId(); 
        }else{
            //update
            $sql = &#39;update &#39;. $table . &#39; set  &#39;;
            foreach ($data as $k =&gt;$v) {
                $sql.= $k . &quot;=&#39;&quot;.$v.&quot;&#39;,&quot;;
            }
            $sql = rtrim($sql,&#39;,&#39;);//去掉最后的逗号
            $sql .= &quot; where $where&quot;;
            $this -&gt;query($sql);
            return $this-&gt;affectRows();
        }
    }

    /**
    * 返回上一条insert语句产生的主键值
    */
    public function LastId(){
        //直接调用insert_id即可得到插入的主键的值
        return  $this-&gt;link-&gt;insert_id;
    }

    /**
    *返回上一条语句影响的行数
    */
    public function affectRows(){
        //直接调用affected_rows即可得到影响的行数
        return $this-&gt;link-&gt;affected_rows;
    }
}

$mysql = new Mysql();
$a = $mysql-&gt;Exce([&#39;name&#39;=&gt;&#39;原始&#39;],&#39;object_oriented&#39;,&#39;update&#39;,&#39;id&gt;3&#39;);
var_dump($a);
$b = $mysql-&gt;getAll(&quot;select * from object_oriented&quot;);
$c = $mysql-&gt;getOne(&quot;select * from object_oriented&quot;);
$d = $mysql-&gt;getRow(&quot;select * from object_oriented&quot;);
var_dump($b);
var_dump($c);
var_dump($d);
?&gt;</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2018/06/16/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/06/18/hello-world/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/04/21/php/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://qiniu.xiaoming.net.cn/%E5%8D%9A%E5%AE%A2%E5%A4%B4%E5%83%8F.jpeg" alt="Silverming's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        934933088@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 934933088@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">124</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" target="_blank" rel="noopener" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Silverming
            
                <br>
                
                    <a href="http://www.miitbeian.gov.cn" target="_blank" rel="nofollow noopener">粤ICP备18114217号</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2018;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
    
</html>
